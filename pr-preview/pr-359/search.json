[{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 RMI-PACTA Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/company_alignment_metric.html","id":"the-use-case-for-aggregated-alignment-metrics","dir":"Articles","previous_headings":"1. Background","what":"1.1 The use case for aggregated alignment metrics","title":"Calculation of a company alignment metric","text":"company alignment metric described intended help make sense alignment patterns large analyses, e.g. case supervisory analysis banking system, many loan books compared. situations, high level results helpful highlighting important patterns warrant -depth analysis granular standard PACTA metrics. Identifying patterns means need reduce information manageable quantity. inevitably leads loss granularity, justifiable summarizing main findings, long outcomes consistent main PACTA metrics. choose approach first aggregates company alignment relative metric company/sector level PACTA sectors company operates . methodology calculating metric provided market share approach sectoral decarbonization approach.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/company_alignment_metric.html","id":"basic-concepts-of-the-company-alignment-metric","dir":"Articles","previous_headings":"2. The company alignment metric","what":"2.1 Basic concepts of the company alignment metric","title":"Calculation of a company alignment metric","text":"section, derive company alignment metric mathematically provide interpretations relevant pieces. practice, metric often calculate time t=5t = 5, can calculated point time, generalise. companies operating sectors clear technology transitions take place, certain technologies need built (BOBO) whilst others need phased (POPO). define direction dd technology aa sector bb : da,b={BOif low-carbon technologyPOif high-carbon technology, d_{,b} =   \\begin{cases}     BO       & \\quad \\text{} \\text{ low-carbon technology}\\\\     PO  & \\quad \\text{} \\text{ high-carbon technology}   \\end{cases}, low-carbon technology high-carbon technology mutually exclusive categories. forward-looking production plan pp company cc technology aa sector bb time tt : pa,b,c,d,tp_{,b,c,d,t} means sector level, get net production plan : pb,c,t=∑∀∈bpa,b,c,d,tp_{b,c,t} = \\sum_{\\forall \\b} p_{,b,c,d,t} Correspondingly, scenario-based production value ss company cc technology aa sector bb time tt : sa,b,c,d,ts_{,b,c,d,t} sector level, therefore get net scenario-based production value : sb,c,t=∑∀∈bsa,b,c,d,ts_{b,c,t} = \\sum_{\\forall \\b} s_{,b,c,d,t} define directional dummy variable DD technology aa, given direction dd sector bb : Da,b,d={1if da,b=BO−1if da,b=PO D_{,b,d} =   \\begin{cases}     1       & \\quad \\text{} d_{,b} = BO\\\\     -1  & \\quad \\text{} d_{,b} = PO   \\end{cases} definitions, calculate total technology deviation (Δtotal\\Delta total) company cc technology aa sector bb time tt : Δtotala,b,c,d,t=(pa,b,c,d,t−sa,b,c,d,t)×Da,b,d\\Delta total_{,b,c,d,t} = (p_{,b,c,d,t} - s_{,b,c,d,t}) \\times D_{,b,d} Note total technology deviation considered aligned >= 0 misaligned < 0. Directional dummy ensures case build phase technologies.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/company_alignment_metric.html","id":"addressing-scenarios-with-bridge-technologies","dir":"Articles","previous_headings":"2. The company alignment metric > 2.1 Basic concepts of the company alignment metric","what":"2.1.1 Addressing scenarios with bridge technologies","title":"Calculation of a company alignment metric","text":"case technology trajectory transition scenario clearly classified build phase technology near medium term, treat technology bridge technology. specifically, case, production trajectory technology remains stagnant changes vary direction time frame needed carry new investments. Usually, bridge technology high-carbon technology less emissions intensive high-carbon technologies need phased first. Whether technology considered bridge technology therefore depends largely scenario assumptions sometimes differ regions even within scenario. bridge technology considered high-carbon principle, yet phased , need apply calculation incentivises production planning close scenario-based value possible. ensures overshoot undershoot lead deteriorating alignment metrics. therefore use two-sided misalignment logic, adjusts total technology deviation bridge technology aa time tt : Δtotala,b,c,d,tbridge=−|pa,b,c,d,t−sa,b,c,d,t|\\Delta total_{,b,c,d,t}^{bridge} = -|p_{,b,c,d,t} - s_{,b,c,d,t}| Contrary standard formulation technology alignment deviation, technology deviation bridge technology maximum 0, basis production forecast exactly meets scenario-based value time tt. deviation considered misalignment. remainder calculation remains unchanged.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/company_alignment_metric.html","id":"net-aggregate-company-alignment-metric","dir":"Articles","previous_headings":"2. The company alignment metric","what":"2.2 Net aggregate company alignment metric","title":"Calculation of a company alignment metric","text":"Based total technology deviations calculated , can now derive net aggregate company alignment metric yy. derive net aggregate company alignment metric, first define calculate total deviation company cc sector bb time tt : Δtotalb,c,t=∑∀∈bΔtotala,b,c,d,t\\Delta total_{b,c,t} = \\sum_{\\forall \\b} \\Delta total_{,b,c,d,t} note total scenario-based value company cc sector bb time tt : totalb,c,tscen=sb,c,t=∑∀∈bsa,b,c,d,ttotal_{b,c,t}^{scen} = s_{b,c,t} = \\sum_{\\forall \\b} s_{,b,c,d,t} definitions, derive net aggregate company alignment metric yy company cc sector bb time tt : yb,c,t=Δtotalb,c,ttotalb,c,tsceny_{b,c,t} = \\dfrac{\\Delta total_{b,c,t}}{total_{b,c,t}^{scen}}","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/company_alignment_metric.html","id":"interpretation","dir":"Articles","previous_headings":"2. The company alignment metric > 2.2 Net aggregate company alignment metric","what":"Interpretation:","title":"Calculation of a company alignment metric","text":"Net Aggregate Company Alignment Metric summary alignment company sector across relevant technologies within sector. intended overall summary metric shows company aligned climate scenario aggregate. , metric meant starting point analysis. can used basis aggregate alignments individual companies loan book get high level overview alignment loan book. can also used disaggregate company alignment metric obtain granular insights underlying drivers. general, yb,c,t>=0y_{b,c,t} >= 0 means company - aggregate - aligned climate scenario, whereas yb,c,t<0y_{b,c,t} < 0 means misaligned. technologies sector company operates , measure directional deviation corresponding scenario-based value time tt. positive value deviation indicates alignment negative value indicates misalignment, regardless direction technology given scenario. sum deviations across technologies divided company’s sector level scenario value time tt. returns percent deviation company production scenario value tt, y=0y = 0 means deviation, y=1y = 1 means company one hundred percent terms buildout phaseout needs y=−0.5y = -0.5 means fifty percent less needs according scenario values. Note metric show exactly (mis)alignment comes . Hence, following analysis granular level always good idea.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/company_alignment_metric.html","id":"build-out-and-phase-out-company-alignment-metric","dir":"Articles","previous_headings":"2. The company alignment metric","what":"2.3 Build out and phase out company alignment metric","title":"Calculation of a company alignment metric","text":"One particular strength PACTA metrics sectors technology pathways surface misalignment technology level, matters particularly sectors include build phase technologies. Transition scenarios often assume particular technologies must phased order remain within carbon budget. Therefore, alignment metrics obscure need phase build technologies simply adding bidirectional technology deviations. account , define disaggregation net aggregate company alignment metric build phase drivers. falls short maximum granularity design, ensures opposite trends build phase obscured analysis. disaggregation net aggregate company alignment metric BOBO POPO drivers designed resulting sum disaggregated metrics equals net metric, build phase technologies mutually exclusive sets. calculate BOBO POPO company alignment metrics, need derive total deviation company cc technology direction dd sector bb time tt : Δtotalb,c,d,t=∑∀∈b,dΔtotala,b,c,d,t\\Delta total_{b,c,d,t} = \\sum_{\\forall \\b,d} \\Delta total_{,b,c,d,t} BOBO(POPO) company alignment metric yy company cc technology direction dd sector bb time tt defined : yb,c,d,t=Δtotalb,c,d,ttotalb,c,tsceny_{b,c,d,t} = \\dfrac{\\Delta total_{b,c,d,t}}{total_{b,c,t}^{scen}} Note denominator remains net level sum disaggregated metrics net metric: yb,c,d=BO,t+yb,c,d=PO,t=Δtotalb,c,d=BO,t+Δtotalb,c,d=PO,ttotalb,c,tscen=Δtotalb,c,ttotalb,c,tscen=yb,c,ty_{b,c,d=BO,t} + y_{b,c,d=PO,t} = \\dfrac{\\Delta total_{b,c,d=BO,t} + \\Delta total_{b,c,d=PO,t}}{total_{b,c,t}^{scen}} = \\dfrac{\\Delta total_{b,c,t}}{total_{b,c,t}^{scen}} = y_{b,c,t} must true every technology aa must one one direction d∈{BO,PO}d \\\\left\\{BO,PO\\right\\}.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/company_alignment_metric.html","id":"interpretation-1","dir":"Articles","previous_headings":"2. The company alignment metric > 2.3 Build out and phase out company alignment metric","what":"Interpretation:","title":"Calculation of a company alignment metric","text":"Previously, mentioned aggregated value yb,c,ty_{b,c,t} indicate sources (mis)alignment can found. disaggregation BOBO POPO drivers company aggregate alignment metric aims provide high level overview just . essence, yb,c,d,ty_{b,c,d,t} adds technology deviations either buildout phaseout technologies, still dividing sector level scenario value company (including technologies). means get simple disaggregation overall alignment metric sum parts. Hence, read indicator isolation. However, disaggregation can helpful determining overall alignment driven lack buildout slow phaseout. Additionally, may look like overall alignment near target yb,c,ty_{b,c,t} close zero may theory composed significantly overaligned buildout significantly misaligned phaseout vice versa. goes show , companies active sectors buidlout phaseout technologies, important understand drivers behind overall alignment metric.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/company_alignment_metric.html","id":"net-aggregate-company-alignment-metric-in-emissions-intensity-sectors","dir":"Articles","previous_headings":"2. The company alignment metric","what":"2.4 Net aggregate company alignment metric in emissions intensity sectors","title":"Calculation of a company alignment metric","text":"sectors alignment calculated using emissions intensity metrics distinction build phase technologies. means net aggregate company alignment metric emissions intensity sectors y*y^* calculation metric much straight forward. Let emissions intensity based forward-looking production plan p*p^* company cc sector bb time tt: pb,c,t*p_{b,c,t}^* also define scenario-based emissions intensity value s*s^* company cc sector bb time tt : sb,c,t*s_{b,c,t}^* derive total emissions intensity deviation (Δtotal*\\Delta total^*) company cc sector bb time tt: Δtotalb,c,t*=pb,c,t*−sb,c,t*\\Delta total_{b,c,t}^* = p_{b,c,t}^* - s_{b,c,t}^* follows alignment measure y*y^* company cc based emissions intensities sector bb time tt : yb,c,t*=Δtotalb,c,t*sb,c,ty_{b,c,t}^* = \\dfrac{\\Delta total_{b,c,t}^*}{s_{b,c,t}}","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/company_alignment_metric.html","id":"interpretation-2","dir":"Articles","previous_headings":"2. The company alignment metric > 2.4 Net aggregate company alignment metric in emissions intensity sectors","what":"Interpretation:","title":"Calculation of a company alignment metric","text":"company alignment metric emissions intensity sectors yb,c,t*y_{b,c,t}^* follows similar logic one sectors technology pathways, measures percent deviation emissions intensity time tt company scenario-based emissions intensity time tt. , means yb,c,t*=0y_{b,c,t}^* = 0 describes company right track emissions intensity relative scenario-based value, whereas yb,c,t*=1y_{b,c,t}^* = 1 means emissions intensity one hundred percent better (lower) required scenario value yb,c,t*=−0.5y_{b,c,t}^* = -0.5 means emissions intensity fifty percent worse (higher) implied scenario value. disaggregation emissions intensity based metrics, calculated sector level begin .","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"intro","dir":"Articles","previous_headings":"","what":"Intro","title":"Configuring the application","text":"functions package require path config.yml file input. structure allows easily reviewed file contains relevant parameters / used given multi-loanbook analysis. full documentation option.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"preface","dir":"Articles","previous_headings":"","what":"Preface","title":"Configuring the application","text":"config file separated top-level “sections” contain contextually similar options. top-level sections documented well , note top-level sections never value directly associated . Also note config file must top-level section default. related feature yaml package facilitates targeting different config sets different purposes. Technically, one leverage use pacta.multi.loanbook, recommended.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"directories","dir":"Articles","previous_headings":"Options","what":"directories:","title":"Configuring the application","text":"directories section contains options define locally accessible paths input output data found saved. full example directories section might look like:","code":"directories:     dir_input: \"~/Desktop/test/input\"     dir_prepared_abcd: \"~/Desktop/test/prepared_abcd\"     dir_matched_loanbooks: \"~/Desktop/test/matched_loanbooks\"     dir_prioritized_loanbooks_and_diagnostics: \"~/Desktop/test/prioritized_loanbooks_and_diagnostics\"     dir_analysis: \"~/Desktop/test/analysis\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"dir_input","dir":"Articles","previous_headings":"Options > directories:","what":"dir_input","title":"Configuring the application","text":"dir_input path directory contains input data used. Input data data set must produced obtained externally user output functions package. includes files needed optionally. must single string/character value, must refer valid, accessible, local directory. example:","code":"dir_input: \"~/Desktop/test/input\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"dir_prepared_abcd","dir":"Articles","previous_headings":"Options > directories:","what":"dir_prepared_abcd","title":"Configuring the application","text":"dir_prepared_abcd path directory outputs function prepare_abcd() saved. must single string/character value, must refer valid, accessible, local directory. example:","code":"dir_prepared_abcd: \"~/Desktop/test/prepared_abcd\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"dir_matched_loanbooks","dir":"Articles","previous_headings":"Options > directories:","what":"dir_matched_loanbooks","title":"Configuring the application","text":"dir_matched_loanbooks path directory outputs function match_loanbooks() saved. must single string/character value, must refer valid, accessible, local directory. example:","code":"dir_matched_loanbooks: \"~/Desktop/test/matched_loanbooks\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"dir_prioritized_loanbooks_and_diagnostics","dir":"Articles","previous_headings":"Options > directories:","what":"dir_prioritized_loanbooks_and_diagnostics","title":"Configuring the application","text":"dir_prioritized_loanbooks_and_diagnostics path directory outputs function prioritise_and_diagnose() saved. must single string/character value, must refer valid, accessible, local directory. example:","code":"dir_prioritized_loanbooks_and_diagnostics: \"~/Desktop/test/prioritized_loanbooks_and_diagnostics\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"dir_analysis","dir":"Articles","previous_headings":"Options > directories:","what":"dir_analysis","title":"Configuring the application","text":"dir_analysis path directory outputs function analyse() saved. must single string/character value, must refer valid, accessible, local directory. example:","code":"dir_analysis: \"~/Desktop/test/analysis\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"file_names","dir":"Articles","previous_headings":"Options","what":"file_names:","title":"Configuring the application","text":"file_names section contains options define file names locally accessible files found directories defined directories section. directories file names defined separately allow flexibility input output files stored. full example file_names section might look like:","code":"file_names:     filename_scenario_tms: \"scenarios_2022_p4b.csv\"     filename_scenario_sda: \"scenarios_2022_ei_p4b.csv\"     filename_abcd: \"2023-02-17_AI_RMI_PACTA for Banks Free dataset_EO_2022Q4.xlsx\"     sheet_abcd: \"Company Indicators - PACTA Comp\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"filename_scenario_tms","dir":"Articles","previous_headings":"Options > file_names:","what":"filename_scenario_tms","title":"Configuring the application","text":"filename_scenario_tms filename file contains production based scenario data. file specified filename_scenario_tms must exist directory specified dir_input parameter. must single string/character value, must refer valid, accessible, local file. example:","code":"filename_scenario_tms: \"scenarios_2022_p4b.csv"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"filename_scenario_sda","dir":"Articles","previous_headings":"Options > file_names:","what":"filename_scenario_sda","title":"Configuring the application","text":"filename_scenario_sda filename file contains emission intensity based scenario data. file specified filename_scenario_sda must exist directory specified dir_input parameter. must single string/character value, must refer valid, accessible, local file. example:","code":"filename_scenario_sda: \"scenarios_2022_ei_p4b.csv\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"filename_abcd","dir":"Articles","previous_headings":"Options > file_names:","what":"filename_abcd","title":"Configuring the application","text":"filename_abcd filename file directory defined dir_input contains asset based company data, including production values physical emission intensity values. must single string/character value, must refer valid, accessible, local file. example:","code":"filename_abcd: \"2023-02-17_AI_RMI_PACTA for Banks Free dataset_EO_2022Q4.xlsx\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"sheet_abcd","dir":"Articles","previous_headings":"Options > file_names:","what":"sheet_abcd","title":"Configuring the application","text":"sheet_abcd name sheet contains asset based company data file defined filename_abcd stored directory defined dir_input. must single string/character value, must refer valid, accessible, sheet name appropriate file. example:","code":"sheet_abcd: \"Company Indicators - PACTA Comp\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"project_parameters","dir":"Articles","previous_headings":"Options","what":"project_parameters:","title":"Configuring the application","text":"full example project_parameters section might look like:","code":"project_parameters:     scenario_source: \"weo_2022\"     scenario_select: \"nze_2050\"     region_select: \"global\"     start_year: 2022     time_frame: 5     by_group: \"group_id\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"scenario_source","dir":"Articles","previous_headings":"Options > project_parameters:","what":"scenario_source","title":"Configuring the application","text":"scenario_source identifier scenario source used. must single string/character value, must refer valid, accessible, scenario source identifier contained scenario data file/s defined filename_scenario_tms filename_scenario_sda. Valid values typically look like \"weo_2023\" \"geco_2022\". example:","code":"scenario_source: \"weo_2022\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"scenario_select","dir":"Articles","previous_headings":"Options > project_parameters:","what":"scenario_select","title":"Configuring the application","text":"scenario_select identifier scenario used. must single string/character value, must refer valid, accessible, scenario identifier corresponding scenario_source contained scenario data file/s defined filename_scenario_tms filename_scenario_sda. Valid values typically look like \"nze_2050\", \"aps\" \"steps\". example:","code":"scenario_select: \"nze_2050\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"region_select","dir":"Articles","previous_headings":"Options > project_parameters:","what":"region_select","title":"Configuring the application","text":"region_select identifier region used. must single string/character value, must refer valid, accessible, region identifier contained r2dii.data::region_isos dataset must listed region available scenario_source. Valid values typically look like \"global\" \"advanced economies\". example:","code":"region_select: \"global\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"start_year","dir":"Articles","previous_headings":"Options > project_parameters:","what":"start_year","title":"Configuring the application","text":"start_year start year analysis. Normally, start year correspond year publication scenario use. must single numeric value, must refer valid, accessible, year contained scenario data file/s defined filename_scenario_tms filename_scenario_sda. Valid values typically look like 2022 2023 (note value wrapped quotes). example:","code":"start_year: 2022"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"time_frame","dir":"Articles","previous_headings":"Options > project_parameters:","what":"time_frame","title":"Configuring the application","text":"time_frame number years (starting start_year) analysis covers, defining time frame. must single numeric value, must define valid, accessible, time frame covered scenario data file/s defined filename_scenario_tms filename_scenario_sda. Valid values typically look like 5 6 (note value wrapped quotes). example:","code":"time_frame: 5"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"by_group","dir":"Articles","previous_headings":"Options > project_parameters:","what":"by_group","title":"Configuring the application","text":"by_group allows specifying level disaggregation used analysis. determines variable along loan books grouped thus dimension compare PACTA calculations. example, one may want calculate system-wide results without disaggregation, using NULL one may want analyse alignment along bank specific traits, \"group_id\" \"bank_type\". can NULL character vector length 1. NULL, indicated name must variable provided input loan books must complete (\"group_id\" automatically created reading loan books, user add raw loan books). provided character string \"NULL\", treated NULL. example:","code":"by_group: \"group_id\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"sector_split","dir":"Articles","previous_headings":"Options","what":"sector_split:","title":"Configuring the application","text":"full example sector_split section might look like:","code":"sector_split:     apply_sector_split: TRUE     filename_split_company_id: \"split_company_ids.csv\"     filename_advanced_company_indicators: \"2024-02-14_AI_2023Q4_RMI-Company-Indicators.xlsx\"     sheet_advanced_company_indicators: \"Company Activities\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"apply_sector_split","dir":"Articles","previous_headings":"Options > sector_split:","what":"apply_sector_split","title":"Configuring the application","text":"apply_sector_split must single logical value (either TRUE FALSE). example:","code":"apply_sector_split: TRUE"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"filename_split_company_id","dir":"Articles","previous_headings":"Options > sector_split:","what":"filename_split_company_id","title":"Configuring the application","text":"filename_split_company_id filename CSV file contains split company ID data. file specified filename_split_company_id must exist directory specified dir_input parameter. must single string/character value, must refer valid, accessible, local file. example:","code":"filename_split_company_id: \"split_company_ids.csv\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"filename_advanced_company_indicators","dir":"Articles","previous_headings":"Options > sector_split:","what":"filename_advanced_company_indicators","title":"Configuring the application","text":"filename_advanced_company_indicators filename XLSX file contains Advanced Company Indicators. file specified filename_advanced_company_indicators must exist directory specified dir_input parameter. must single string/character value, must refer valid, accessible, local file. example:","code":"filename_advanced_company_indicators: \"2024-02-14_AI_2023Q4_RMI-Company-Indicators.xlsx\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"sheet_advanced_company_indicators","dir":"Articles","previous_headings":"Options > sector_split:","what":"sheet_advanced_company_indicators","title":"Configuring the application","text":"sheet_advanced_company_indicators name sheet contains asset based company production data file defined filename_advanced_company_indicators stored directory defined dir_input. must single string/character value, must refer valid, accessible, sheet name appropriate file. example:","code":"sheet_advanced_company_indicators: \"Company Activities\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"matching","dir":"Articles","previous_headings":"Options","what":"matching:","title":"Configuring the application","text":"full example matching section might look like:","code":"matching:     params_match_name:       by_sector: TRUE       min_score: 0.9       method: \"jw\"       p: 0.1       overwrite: NULL       join_id: NULL     manual_sector_classification:       use_manual_sector_classification: FALSE       filename_manual_sector_classification: \"manual_sector_classification.csv\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"params_match_name","dir":"Articles","previous_headings":"Options > matching:","what":"params_match_name:","title":"Configuring the application","text":"full example params_match_name section might look like:","code":"params_match_name:       by_sector: TRUE       min_score: 0.9       method: \"jw\"       p: 0.1       overwrite: NULL       join_id: NULL"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"by_sector","dir":"Articles","previous_headings":"Options > matching: > params_match_name:","what":"by_sector","title":"Configuring the application","text":"by_sector. must single logical value (either TRUE FALSE). explanation argument can found documentation r2dii.match::match_name(). example:","code":"by_sector: TRUE"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"min_score","dir":"Articles","previous_headings":"Options > matching: > params_match_name:","what":"min_score","title":"Configuring the application","text":"min_score number 0-1, set minimum score threshold. score 1 perfect match. must single numeric value. Valid values typically look like 0.7 0.9 (note value wrapped quotes). explanation argument can found documentation r2dii.match::match_name(). example:","code":"min_score: 0.9"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"method","dir":"Articles","previous_headings":"Options > matching: > params_match_name:","what":"method","title":"Configuring the application","text":"method method distance calculation. must single string/character value, must refer valid method identifier, one \"osa\", \"lv\", \"dl\", \"hamming\", \"lcs\", \"qgram\", \"cosine\", \"jaccard\", \"jw\", \"soundex\". explanation argument can found documentation r2dii.match::match_name() stringdist::stringdist-metrics. example:","code":"method: \"jw\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"p","dir":"Articles","previous_headings":"Options > matching: > params_match_name:","what":"p","title":"Configuring the application","text":"p prefix factor Jaro-Winkler distance. valid range p 0 <= p <= 0.25. p=0 (default), Jaro-distance returned. Applies method=‘jw’. must single numeric value. Valid values typically look like 0.1 0.2 (note value wrapped quotes). explanation argument can found documentation r2dii.match::match_name(). example:","code":"p: 0.1"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"overwrite","dir":"Articles","previous_headings":"Options > matching: > params_match_name:","what":"overwrite","title":"Configuring the application","text":"overwrite. explanation argument can found documentation r2dii.match::match_name(). example:","code":"overwrite: NULL"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"join_id","dir":"Articles","previous_headings":"Options > matching: > params_match_name:","what":"join_id","title":"Configuring the application","text":"join_id optional parameter allows defining variable match loans companies abcd. intended use case join based unambiguous identifiers, lei, data available. can NULL use standard name matching common identifiers given. Must join specification internally passed dplyr::inner_join. unnamed character/string vector, values assumed refer identically named join columns. named character vector, names used join columns loanbook values used join columns abcd. explanation argument can found documentation r2dii.match::match_name(). example:","code":"join_id: c(lei_direct_loantaker = \"lei\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"manual_sector_classification","dir":"Articles","previous_headings":"Options > matching:","what":"manual_sector_classification:","title":"Configuring the application","text":"full example manual_sector_classification section might look like:","code":"manual_sector_classification:       use_manual_sector_classification: FALSE       filename_manual_sector_classification: \"manual_sector_classification.csv\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"use_manual_sector_classification","dir":"Articles","previous_headings":"Options > matching: > manual_sector_classification:","what":"use_manual_sector_classification","title":"Configuring the application","text":"use_manual_sector_classification determines matching use internally provided sector classification system use one provided user instead. Internal sector classification systems given r2dii.data::sector_classifications - see also additional documentation r2dii.data. function automatically attempt use one sector classification systems, based inputs raw loan book files. externally prepared sector classification system used, example loans classified using system provided r2dii.data box, data must prepared following structure found r2dii.data::sector_classifications. must single logical value (either TRUE FALSE). example:","code":"use_manual_sector_classification: FALSE"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"filename_manual_sector_classification","dir":"Articles","previous_headings":"Options > matching: > manual_sector_classification:","what":"filename_manual_sector_classification","title":"Configuring the application","text":"filename_manual_sector_classification filename CSV contains manual sector classification data. file specified filename_manual_sector_classification must exist directory specified dir_input parameter. must single string/character value, must refer valid, accessible, local file. example:","code":"filename_manual_sector_classification: \"manual_sector_classification.csv\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"match_prioritize","dir":"Articles","previous_headings":"Options","what":"match_prioritize:","title":"Configuring the application","text":"full example match_prioritize section might look like:","code":"match_prioritize:     priority: NULL"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"priority","dir":"Articles","previous_headings":"Options > match_prioritize:","what":"priority","title":"Configuring the application","text":"priority indicates level matching prioritized loan can matched multiple levels. must single string/character value NULL, must refer valid, accessible, local file. explanation argument can found documentation r2dii.match::priortize(). example:","code":"priority: NULL"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"prepare_abcd","dir":"Articles","previous_headings":"Options","what":"prepare_abcd:","title":"Configuring the application","text":"full example prepare_abcd section might look like:","code":"prepare_abcd:     remove_inactive_companies: TRUE"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"remove_inactive_companies","dir":"Articles","previous_headings":"Options > prepare_abcd:","what":"remove_inactive_companies","title":"Configuring the application","text":"remove_inactive_companies determines inactive companies removed abcd dataset . “Companies” refers company-sector combinations “inactive” characterizes company-sector combinations inactive end time frame analysed. focusing forward looking analysis exposures end year, inactive companies may produce meaningful results. must single logical value (either TRUE FALSE). example:","code":"remove_inactive_companies: TRUE"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"match_success_rate","dir":"Articles","previous_headings":"Options","what":"match_success_rate:","title":"Configuring the application","text":"full example match_success_rate section might look like:","code":"match_success_rate:     plot_width: 12     plot_height: 8     plot_units: \"in\"     plot_resolution: 300"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"plot_width","dir":"Articles","previous_headings":"Options > match_success_rate:","what":"plot_width","title":"Configuring the application","text":"plot_width desired width XXX output plot units defined plot_units. must single numeric value. Valid values typically look like 10 12 (note value wrapped quotes). example:","code":"plot_width: 12"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"plot_height","dir":"Articles","previous_headings":"Options > match_success_rate:","what":"plot_height","title":"Configuring the application","text":"plot_height desired height XXX output plot units defined plot_units. must single numeric value. Valid values typically look like 6 8 (note value wrapped quotes). example:","code":"plot_height: 8"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"plot_units","dir":"Articles","previous_headings":"Options > match_success_rate:","what":"plot_units","title":"Configuring the application","text":"plot_units desired units express dimensions XXX output plot plot_width plot_height. must single string/character value, must refer valid unit identifier. Valid values typically look like \"\" \"px\". example:","code":"plot_units: \"in\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/config_yml.html","id":"plot_resolution","dir":"Articles","previous_headings":"Options > match_success_rate:","what":"plot_resolution","title":"Configuring the application","text":"plot_resolution desired resolution XXX output plot dpi. must single numeric value. Valid values typically look like 72 300 (note value wrapped quotes). example:","code":"plot_resolution: 300"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_advanced_use_cases.html","id":"advanced-use-cases","dir":"Articles","previous_headings":"","what":"Advanced Use Cases","title":"Advanced Use Cases","text":"section provides detailed look advanced use cases pacta.multi.loanbook package PACTA Supervisors analysis. First, touch technical side adjusting analysis needs. , look research questions may occur field banking supervision regard climate transition risk pacta.multi.loanbook package can help answer .","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_advanced_use_cases.html","id":"tailoring-the-p4s-analysis-to-your-needs","dir":"Articles","previous_headings":"Advanced Use Cases","what":"Tailoring the P4S Analysis to Your Needs","title":"Advanced Use Cases","text":"adjustment analysis may want make supported pacta.multi.loanbook package can done adjusting config.yml file. information parameters values accept, please refer vignette(\"config_yml\"). , provide examples can adjust analysis needs.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_advanced_use_cases.html","id":"use-case-identify-transition-risks-at-the-system-level","dir":"Articles","previous_headings":"Advanced Use Cases","what":"Use Case: Identify Transition Risks at the System Level","title":"Advanced Use Cases","text":"Rationale: Supervisors need systemic overview transition risks across financial sector understand vulnerabilities affect financial stability. Method: analyzing different types banks (e.g., systemically important banks, credit unions, specialized banks - lending specific sectors) banks public commitments (e.g., targets, transition plans), supervisors can determine transition risks concentrated within particular bank categories. instance, specialized banks focusing fossil fuel sectors may face higher transition risk exposures significant across sector. Identifying patterns helps pinpoint specific areas financial system destabilize broader economy. pacta.multi.loanbook package can help supervisors check certain bank types show significant patterns misalignment exposure warrant additional focus. example, know certain specialized banks focused fossil fuel sectors, can check banks misaligned others higher exposure misaligned companies. can done comparing net aggregate alignment metrics different bank types also comparing system-wide misalignment. terms implementation, suppose want run analysis aggregate system level reference determine different bank types compare . can obtain required results, running functions prioritise_and_diagnose() analyse() twice, different parameter settings, using following steps: need group underlying loan books bank type aggregated across banks. parameter by_group parameter. aggregate result can obtained setting by_group = \"NULL\" (always works) bank type results can obtained setting by_group = \"bank_type\" (assumes raw matched loan books contain variable called bank_type relevant classification). results can compared see significant differences net aggregate alignment metrics different bank types aggregate system level. prioritise_and_diagnose(), first set output something like: dir_prioritized_loanbooks_and_diagnostics: \"path//prioritized_loanbooks_and_diagnostics_aggregate\" second run dir_prioritized_loanbooks_and_diagnostics: \"path//prioritized_loanbooks_and_diagnostics_bank_type\". analyse(), set output something like: dir_analysis: \"path//analysis_aggregate\" second run dir_analysis: \"path//analysis_bank_type\". also need make sure run analyse(), config.yml file points correct output directories prioritized_loanbooks_and_diagnostics analyse functions, correct input files can accessed. successfully running functions sets parameters, results aggregate system level different bank types, based exact input loan books keeping model parameters constant. can compare results see significant differences net aggregate alignment metrics different bank types aggregate system level. Assuming followed naming convention described , project folder look something like : important things analyse making comparison : groups (aggregate bank type level) significantly lower match success rates groups? , may difficult draw conclusions group may good idea review options increasing match success rate. can use charts ../prioritized_loanbooks_and_diagnostics_*/plot_match_success_rate_rel_*.png identify groups low match success rates. Alternatively can use file ../prioritized_loanbooks_and_diagnostics_*/lbk_match_success_rate_*.csv precise numbers. distribution financial exposure groups sectors? groups especially high exposure sector may therefore candidates concentration risk? E.g. group mostly exposed one sector? sector whose exposure mostly one group? can use charts ../prioritized_loanbooks_and_diagnostics_*/plot_match_success_rate_abs_*.png identify financial exposures (matched total) group sectors. Alternatively can use file ../prioritized_loanbooks_and_diagnostics_*/lbk_match_success_rate_*.csv precise numbers. identifying potentially interesting groups, can use charts ../analysis_*/plot_scatter_alignment_exposure_*.png see distribution net alignment metric financial exposure sectors group. help identify groups especially misaligned sector (y-axis) value corresponds high financial exposure (x-axis). Things look : dot far away 0 intercept y-axis indicates strong deviation scenario. values zero groups misaligned. system level, dot high exposure significant misalignment potential candidate analysis. Also, within sector, relatively high exposure group misaligned may concern, indicate concentration risk. example, specialized banks focus fossil fuel sector heavily misaligned dominate lending fossil fuel sector, materializing risks fossil fuel industry hit banks especially hard.","code":"your_project_folder ├── config.yml ├── input │   ├── ABCD.xlsx │   ├── loanbooks │   │   ├── raw_loanbook_1.csv │   │   ├── raw_loanbook_2.csv │   │   └── ... │   ├── scenario_data_tms.csv │   ├── scenario_data_sda.csv │   └── ... ├── prepared_abcd ├── matched_loanbooks ├── prioritized_loanbooks_and_diagnostics_aggregate ├── prioritized_loanbooks_and_diagnostics_bank_type ├── analysis_aggregate └── analysis_bank_type"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_advanced_use_cases.html","id":"use-case-assess-individual-financial-institutions-alignment-and-transition-risk","dir":"Articles","previous_headings":"Advanced Use Cases","what":"Use Case: Assess Individual Financial Institutions’ Alignment and Transition Risk","title":"Advanced Use Cases","text":"Rationale: Understanding transition alignment individual institutions supports targeted oversight informed dialogue entities facing significant transition exposures tailoring engagement expectations based institution’s specific risk profile capabilities. Method: Comparing institutions benchmarks (e.g., industry benchmarks -corporate economy-; financial benchmarks -rest banks-.) also highlights needing improvement best practices. enables precise understanding institution’s potential transition risk informs supervisory assessments actions. pacta.multi.loanbook package can help supervisors assess individual financial institutions’ alignment transition risk providing detailed insights exposure alignment institution. example, supervisors can compare net aggregate alignment metrics financial exposure split banks sectors operate . helps identify banks material exposures especially misaligned. identified, standard PACTA banks results can used deep dive source misalignment identified institutions. sectors, especially helpful, PACTA can used identify misalignment technology level. particularly material sources misalignment can found bank, supervisor may want consider using insight part supervisory review urge bank clarify exposure accounted risk management. implementation use case relatively straight-forward: simply need run full sequence functions , results grouped bank level. Recall loan book automatically assigned variable \"group_id\", can used . thus set by_group: \"group_id\" config.yml. set output paths something like: dir_analysis: \"path//analysis_group_id\" dir_prioritized_loanbooks_and_diagnostics: \"path//prioritized_loanbooks_and_diagnostics_group_id\" ensure results overwritten rerunning functions, case calculations made . running functions, detailed results banks, can used identify material sources misalignment transition risk. results can used inform supervisory assessments actions. Assuming followed naming convention described , project folder look something like : steps identifying financial institutions may warrant deeper individual analysis : Check match success rates different banks. bank significantly lower match success rate others, may difficult draw conclusions bank may good idea review options increasing match success rate. can use charts ../prioritized_loanbooks_and_diagnostics_group_id/plot_match_success_rate_rel_*.png identify banks low match success rates. Alternatively can use file ../prioritized_loanbooks_and_diagnostics_group_id/lbk_match_success_rate_*.csv precise numbers. Check distribution financial exposure banks sectors. banks especially high exposure sector may therefore candidates concentration risk? E.g. bank mostly exposed one sector? sector whose exposure mostly one bank? can use charts ../prioritized_loanbooks_and_diagnostics_group_id/plot_match_success_rate_abs_*.png identify financial exposures (matched total) bank sectors. Alternatively can use file ../prioritized_loanbooks_and_diagnostics_group_id/lbk_match_success_rate_*.csv precise numbers. identifying potentially interesting banks, can use charts ../analysis_group_id/aggregate/plot_scatter_alignment_exposure_*.png see distribution net alignment metric financial exposure sectors bank. help identify banks especially misaligned sector (y-axis) value corresponds high financial exposure (x-axis). bank identified needs inspection (positively aligned cases also warrant additional analysis), can use standard PACTA banks results identify underlying drivers misalignment clearly. especially important sectors, technology level pathways, allow identify misalignment driven misalignment one underlying technologies particular, misalignment comes technologies across board. analyse , can use volume trajectory plots ../analysis_group_id/standard/<bank name>/plot_trajectory_<sector>_<technology>.png see far projected pathway production capacity deviates technology pathways. line red time t5, higher potential technology drive misalignment. However, also check technology mix sector identified bank, using plots ../analysis_group_id/standard/<bank name>/plot_tech_mix_<sector>.png. can check technologies strongly misaligned t5 make relevant share portfolio technology mix. example, bank misaligned power sector identify coal-fired power gas-fired power seem far scenario values t5, still need check technologies make relevant share power capacity financed bank. tech mix shows majority underlying power capacity bank concentrated gas-fired power, whereas share coal-fired power minimal, misalignment gas-fired power greater impact overall alginment bank therefore important risk profile.","code":"your_project_folder ├── config.yml ├── input │   ├── ABCD.xlsx │   ├── loanbooks │   │   ├── raw_loanbook_1.csv │   │   ├── raw_loanbook_2.csv │   │   └── ... │   ├── scenario_data_tms.csv │   ├── scenario_data_sda.csv │   └── ... ├── prepared_abcd ├── matched_loanbooks ├── prioritized_loanbooks_and_diagnostics_group_id └── analysis_group_id"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_advanced_use_cases.html","id":"use-case-identify-hotspots-and-interlinkages-of-risk-exposure","dir":"Articles","previous_headings":"Advanced Use Cases","what":"Use Case: Identify Hotspots and Interlinkages of Risk Exposure","title":"Advanced Use Cases","text":"Rationale: Supervisors need identify concentrations transition risks within certain sectors interlinkages across institutions prevent risk contagion. Method: Pinpointing sectors heightened risk exposures identifying companies high exposure across institutions. proxy identify concentrated risk exposures. pacta.multi.loanbook package can help supervisors identify hotspots interlinkages risk exposure providing detailed insights exposure alignment institution. example, supervisors can compare net aggregate alignment metrics financial exposure split sectors banks operate . helps identify sectors material exposures especially misaligned. identified, company level net aggregate alignment results can used analyze, banks similar exposures misaligned sectors companies. use case can use implementation previous one, using results grouped \"group_id\". can identify banks sectors high exposure misalignment using plot ../analysis_group_id/aggregate/plot_scatter_alignment_exposure_*.png. sectors multiple significantly misaligned banks particular interest . now use file ../analysis_group_id/aggregate/company_exposure_net_aggregate_alignment_by_group_id.csv. sort \"alignment_metric\" filter final year analysis. show companies highest misalignment top, including exposure bank companies. Companies strong misalignment large exposures across banks can considered particularly important source potential transition risk exposure across banks implies contagion risk.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_advanced_use_cases.html","id":"use-case-identify-potential-reputation-risks-from-transition-misalignment","dir":"Articles","previous_headings":"Advanced Use Cases","what":"Use Case: Identify Potential Reputation Risks from Transition Misalignment","title":"Advanced Use Cases","text":"Rationale: Many banks made public commitments align portfolios Paris Agreement signed initiatives proclaim target. following commitments lead reputational risks banks, managed. Method: Depending type commitment made, may relevant check future alignment broadly aligned across sectors bank, alternatively, relevant sectors aligned bank’s commitments. caveat exercise forward looking alignment capture past efforts bank may already made align portfolio. However, can useful complementary tool check bank track meet commitments future. following steps followed implement use case: need group underlying loan books group_id (bank) net_zero_pledge. bank level result can obtained setting by_group = \"group_id\" (always works) results net zero pledge can obtained setting by_group = \"net_zero_pledge\" (assumes raw matched loan books contain variable called net_zero_pledge relevant classification). prioritise_and_diagnose(), first set output something like: dir_prioritized_loanbooks_and_diagnostics: \"path//prioritized_loanbooks_and_diagnostics_group_id\" second run dir_prioritized_loanbooks_and_diagnostics: \"path//prioritized_loanbooks_and_diagnostics_net_zero_pledge\". analyse(), set output something like: dir_analysis: \"path//analysis_group_id\" second run dir_analysis: \"path//analysis_net_zero_pledge\". also need make sure run analyse(), config.yml file points correct output directories prioritized_loanbooks_and_diagnostics analyse functions, correct input files can accessed. Assuming followed naming convention described , project folder look something like : can now check : see significant differences net alignment PACTA sectors banks made net zero pledge . inspect charts ../analysis_net_zero_pledge/aggregate/plot_scatter_alignment_exposure_*.png see distribution net alignment metric financial exposure sectors group. help us identify sectors especially misaligned banks made net zero pledge. see patterns warrant deeper analysis, can use bank level analysis identify banks seem driver difference net alignment banks made net zero pledge . need check raw data, banks signed , results banks indicate information automatically, since can group results one variable time. One way circumvent slighlty cumbersome process create combined variable loan books, includes information bank net zero pledge. allow getting required information one run. bank identify made net zero pledge strongly misaligned may risk losing reputation /sued noncompliance pledge. course, misalignment rarely ever sufficient criterion judge reputational damage legal risk likely materialize. factors, progress made past efforts, implementation transition plans, lending strategy regard transition finance, etc. considered . strong misalignment considered warning signal, warrants investigation aspects possibly dialogue affected bank. PREVIOUS CHAPTER: Interpretation Results","code":"your_project_folder ├── config.yml ├── input │   ├── ABCD.xlsx │   ├── loanbooks │   │   ├── raw_loanbook_1.csv │   │   ├── raw_loanbook_2.csv │   │   └── ... │   ├── scenario_data_tms.csv │   ├── scenario_data_sda.csv │   └── ... ├── prepared_abcd ├── matched_loanbooks ├── prioritized_loanbooks_and_diagnostics_group_id ├── prioritized_loanbooks_and_diagnostics_net_zero_pledge ├── analysis_group_id └── analysis_net_zero_pledge"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_interpretation.html","id":"interpretation-of-results","dir":"Articles","previous_headings":"","what":"Interpretation of Results","title":"Interpretation of Results","text":"Running analysis produce number outputs can used gain insights alignment financial institutions climate transition scenarios approximate transition risk. two main pieces analysis PACTA Banks analysis net aggregate alignment metric. PACTA Banks analysis provide insights alignment financial institution climate transition scenarios sectors covered PACTA. net aggregate alignment metric intended used high level overview alignment metric financial sector. analyses thus complement net aggregate alignment metric can serve starting point identify sectors groups financial institutions seem require particular attention. PACTA Banks analysis can used drill details alignment financial institution climate transition scenarios. following sections provide overview results generated using analysis interpret . briefly explain relevant metrics, mention plots correspond metrics, explain output data sets map values shown plots. provided coverage statistics generated analysis.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_interpretation.html","id":"coverage-diagnostics","dir":"Articles","previous_headings":"Interpretation of Results","what":"Coverage Diagnostics","title":"Interpretation of Results","text":"coverage diagnostics include comparison number value matched loan books raw loan books comparison production capacity companies matched loan books production capacity companies wider economy. coverage diagnostics intended provide insights quality matching process coverage loan books analysis.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_interpretation.html","id":"match-success-rate","dir":"Articles","previous_headings":"Interpretation of Results > Coverage Diagnostics","what":"Match Success Rate","title":"Interpretation of Results","text":"match success rate calculated per sector can calculated based either number loans, outstanding value loans, credit limit loans. either case, sum value matched loans compared raw loan books. output data set contains three versions metric can found ../prioritized_loanbooks_and_diagnostics/lbk_match_success_rate<...>.csv file, <…> replaced name variable set by_group parameter.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_interpretation.html","id":"example-plots-match-success-rate","dir":"Articles","previous_headings":"Interpretation of Results > Coverage Diagnostics > Match Success Rate","what":"Example Plots Match Success Rate","title":"Interpretation of Results","text":"example plot match success rate number loans, case grouped banks types (credit unions, less significant institutions significant institutions), can look follows: Fig. 2: Relative match success rate number loans different bank types. Data based simulated test loan books. Fig. 3: Absolute match success rate number loans different bank types. Data based simulated test loan books. Another example plot match success rate loan size outstanding, case ungrouped meta view entire set analyzed loan books, might look like : Fig. 4: Relative match success rate number loans aggregated loan books. Data based simulated test loan books. Fig. 5: Absolute match success rate number loans aggregated loan books. Data based simulated test loan books.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_interpretation.html","id":"interpretation-of-the-match-success-rate","dir":"Articles","previous_headings":"Interpretation of Results > Coverage Diagnostics > Match Success Rate","what":"Interpretation of the Match Success Rate","title":"Interpretation of Results","text":"match success rate coverage metric properly identified loans relative raw input loan books. always provided sector, company loan book can expected matched ABCD operates sector. Since PACTA covers subset economic sectors, judging success matching process take account loans fall within scope PACTA analysis. course, extent exposure sectors may vary significantly input loan books. strategy bank quality matching process. Generally, desirable reach high match success rate possible sector. mentioned time spent maximize match success rate discretion user. However, recommended aim match success rate 80% loan value within sector interested . steps achieve described section matching process. following concluding matching procedure match success rate high given sector entire loan book, indicates can draw conclusions PACTA analysis loan books higher confidence. remains low sectors, can point one several issues: may data quality issues raw loan book. example, company names may entered wrongly, sector classification may incorrect. Problems sector classification may corrected degree desk research. However, limits inferring sector codes like time consuming process. may coverage issues ABCD. possible entries raw loan book correct match success rate remains low, companies loan book exposed covered ABCD. Since ABCD externally sourced data set, two main approaches tackling . One reach data provider try understand/add missing data points. try add relevant data points manually based data research. involved process standard procedure therefore covered cookbook. Beyond options, recommended highlight coverage issues, fixed.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_interpretation.html","id":"mapping-the-data-dictionary-to-the-match-success-rate-plots","dir":"Articles","previous_headings":"Interpretation of Results > Coverage Diagnostics > Match Success Rate","what":"Mapping the Data Dictionary to the Match Success Rate Plots","title":"Interpretation of Results","text":"detailed descriptions columns corresponding output files, please refer relevant section match success rate data dictionary. variables table map figures follows: <by_group>: variable loan books split . determines number panes plot. E.g. figures 2 3, loan books split bank type, generating one pane per type. figures 4 5, loan books split variable, generating single pane entire set loan books. sector: match success rate analysed sector, sectors shown separate columns. loan raw loan book can matched ABCD company operates sector covered ABCD. highlights importance good data quality sector classification raw loan book. target sufficiently high match success rate sector want make robust statements . match_n: showing absolute number loans matched (figure 3), determines size matched part column. total_n: showing absolute number loans matched (figure 3), determines total size (matched + unmatched) column. match_success_rate_rel: showing relative number loans matched (figure 2), determines size matched part column. match_outstanding: showing absolute matched value loans outstanding (figure 5), determines size matched part column. total_outstanding: showing absolute matched value loans outstanding (figure 5), determines total size (matched + unmatched) column. match_success_outstanding_rel: showing relative matched value loans outstanding (figure 4), determines size matched part column. match_credit_limit: showing absolute matched credit limit loans (shown figure), determines size matched part column. total_credit_limit: showing absolute matched credit limit loans (shown figure), determines total size (matched + unmatched) column. match_success_credit_limit_rel: showing relative matched credit limit loans (shown figure), determines size matched part column.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_interpretation.html","id":"loan-book-production-coverage","dir":"Articles","previous_headings":"Interpretation of Results > Coverage Diagnostics","what":"Loan Book Production Coverage","title":"Interpretation of Results","text":"loan book production coverage calculated per sector region (regions available given scenario_source). given combination sector region, provides total number companies operations sector region wider economy. provides number matched companies loan book operations sector region. ratio two values tells share companies sector region identified matched loan book. Similarly, data set provides total production capacity sector region wider economy production companies matched loan book sector region. Notice matters company matched loan book, large granted loan . ratio two values tells us percentage production capacity sector region financial institution involved . , involved production capacity decidedly full responsibility, many matched companies likely additional sources funding. Lastly, output provides sum loan size outstanding matched companies sectors regions. output data set can found ../prioritized_loanbooks_and_diagnostics/summary_statistics_loanbook_coverage<...>.csv file, <…> replaced name variable set by_group parameter.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_interpretation.html","id":"interpretation-of-the-loan-book-production-coverage","dir":"Articles","previous_headings":"Interpretation of Results > Coverage Diagnostics > Loan Book Production Coverage","what":"Interpretation of the Loan Book Production Coverage","title":"Interpretation of Results","text":"loan book production coverage coverage metric production capacity companies loan book relative production capacity companies wider economy. always provided sector region. Comparisons across sectors need separate, differing output units. coverage region allows highlighting regional focus bank given sector. production coverage compares matched companies , hence depends quality matching process statements share economic activity covered matched loan book take relationship account. Assuming solid match success rate, loan book production coverage tells loan book exposed large share production capacity within certain sector region. information can relevant assessing impact regional economic trends policies may affect sector. example, loan book susceptible transition risk one region another even introduced policies similar, companies financed may operate larger share production capacity first region.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_interpretation.html","id":"data-dictionary-loan-book-production-coverage","dir":"Articles","previous_headings":"Interpretation of Results > Coverage Diagnostics > Loan Book Production Coverage","what":"Data Dictionary Loan Book Production Coverage","title":"Interpretation of Results","text":"detailed descriptions columns output files, please refer relevant section loan book coverage data dictionary. currently standard plot package provides visualizing loan book production coverage.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_interpretation.html","id":"pacta-for-banks-outputs-and-graphs","dir":"Articles","previous_headings":"Interpretation of Results","what":"PACTA for Banks Outputs and Graphs","title":"Interpretation of Results","text":"find description standard PACTA Banks data outputs graphs. data outputs intermediate files directly map plot. mentioned briefly. detailed description can found vignette(\"data_dicationary\"). plots discussed detail, including relevant table data dictionary variables map plots.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_interpretation.html","id":"target-market-share-results","dir":"Articles","previous_headings":"Interpretation of Results > PACTA for Banks Outputs and Graphs","what":"Target Market Share Results","title":"Interpretation of Results","text":"target market share results provide intermediate format output required generate technology mix volume trajectory plots. output data set can found ../analysis/standard/tms_results<...>.csv file, <…> replaced name variable set by_group parameter. information target market share results data set can found data dictionary.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_interpretation.html","id":"technology-mix","dir":"Articles","previous_headings":"Interpretation of Results > PACTA for Banks Outputs and Graphs","what":"Technology Mix","title":"Interpretation of Results","text":"technology mix metric compares technology mix production capacity companies loan book production capacity companies wider economy scenario technology mix five years future. output data set can found ../analysis/standard/<...>/data_tech_mix_<sector>.csv file, <…> replaced names groups variable set by_group parameter. means technology mix results always show results one group time. technology mix can calculated sectors technology level scenario pathways. Generally, tend sectors scalable low carbon alternatives exist. technology mix can also calculated sectors technologies projected phase , results less meaningful cases, technology mix show absolute requirements phasedown. general explanation technology mix, see also PACTA Investors website “Metrics” tab.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_interpretation.html","id":"example-plots-technology-mix","dir":"Articles","previous_headings":"Interpretation of Results > PACTA for Banks Outputs and Graphs > Technology Mix","what":"Example Plots Technology Mix","title":"Interpretation of Results","text":"plot shows technology mix automotive sector loan book. can see exposure automotive production different engine types loan book shifts 2022 2027. exposure electric vehicle production increases, exposure internal combustion engine production decreases. similar shift can observed wider economy, although shift starts smaller share 2022, implies companies financed relatively strong focus electric vehicle production compared overall economy. can also see technology mix looks like scenario 2027. case, shift automotive production internal combustion engines electric vehicles portfolio exposure strong line scenario. Fig. 6: Technology mix automotive sector loan book. Data based simulated test loan books. another example technology mix plot power sector, can see loan book exposed much higher share low carbon technologies wider economy, mainly due large exposure companies operating renewable energy power. plot shows marginal shift loan book 2022 2027, means share technologies quite align scenario values 2027. However, can see loan book far ahead wider economy terms low carbon technology exposure power sector, nuclear power notable exception smaller exposure loan book. Fig. 7: Technology mix power generation sector loan book. Data based simulated test loan books.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_interpretation.html","id":"interpretation-of-the-technology-mix-plots","dir":"Articles","previous_headings":"Interpretation of Results > PACTA for Banks Outputs and Graphs > Technology Mix","what":"Interpretation of the Technology Mix Plots","title":"Interpretation of Results","text":"technology mix plots show exposure underlying technologies sector, technology mix financed companies combined using portfolio weight loan generate aggregate technology mix loan book level. means technology mix company level reflects underlying production company terms real economic output units, whereas technology mix loan book level reflects financial exposure bank technologies lending activities. , overall size production activities underlying companies impact technology mix loan book. weighted average relative production numbers. technology mix loan book level therefore works better risk indicator measure impact. corporate economy bars, technology mix based unweighted sum underlying physical production capacity scenario bar, technology mix based initial technology mix portfolio, extrapolated required changes based market share approach assumes companies maintain overall production shares sector.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_interpretation.html","id":"mapping-the-data-dictionary-to-the-technology-mix-plots","dir":"Articles","previous_headings":"Interpretation of Results > PACTA for Banks Outputs and Graphs > Technology Mix","what":"Mapping the Data Dictionary to the Technology Mix Plots","title":"Interpretation of Results","text":"detailed descriptions columns output files, please refer relevant section technology mix data dictionary. variables table map figures follows: <by_group>: variable loan books split . determines group tech mix shown. E.g. case aggregate loan book displayed figures 6 7, variable value “meta”. calculation grouped bank_type, resulting plots returned groups, credit unions, less significant institutions significant institutions. sector: PACTA sector technology mix shown . technology/label_tech: technology represents differences product fuel type (depending sector). Generally, technologies within sector considered low carbon technologies others considered high carbon technologies. technology mix shows current distribution across technologies distribution may change. label_tech technology, human readable name displayed plot. year: technology mix chart uses values start year analysis contrasts values end year analysis, usually five years future. metric/label: metric differentiates types bars shown technology mix plot. projected refers technology mix exposures loan book, corporate_economy represents production technology mix real economy selected region target_<scenario> refers technology mix loan book need achieve five years future order aligned scenario based market share approach. <scenario> stands selected target scenario set config.yml file. label metric, human readable name displayed plot. technology_share/value: actual value determines size technologies bars plot. technology_share share technology total production capacity sector region. value technology_share, formatted display plot.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_interpretation.html","id":"production-volume-trajectory","dir":"Articles","previous_headings":"Interpretation of Results > PACTA for Banks Outputs and Graphs","what":"Production Volume Trajectory","title":"Interpretation of Results","text":"production volume trajectory metric compares future production capacity given technology companies loan book companies wider economy scenario trajectories loan book five years future, based market share approach. output data set can found ../analysis/standard/<...>/data_trajectory_<sector>_<technology>.csv file, <…> replaced names groups variable set by_group parameter. means production volume trajectory results always show results one group time. production volume trajectory metric can calculated sectors technology level scenario pathways. Generally, tend sectors scalable low carbon alternatives exist, sectors technologies projected phase . general explanation production volume trajectory, see also PACTA Investors website “Metrics” tab.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_interpretation.html","id":"example-plots-production-volume-trajectory","dir":"Articles","previous_headings":"Interpretation of Results > PACTA for Banks Outputs and Graphs > Production Volume Trajectory","what":"Example Plots Production Volume Trajectory","title":"Interpretation of Results","text":"example volume trajectory plot electric vehicle production automotive sector, can see exposure electric vehicle production loan book projected increase 2022 2027. Electric vehicle production real economy projected increase well, slower pace. scenario trajectories IEA NZE 2050 IEA APS portfolio also shown, based market share approach. projection portfolio falls APS NZE 2050 trajectories. Fig. 8: Volume trajectory plot electric vehicle production automotive sector loan book. Data based simulated test loan books. another example production volume trajectory plot coal mining sector, can see loan book reduces exposed coal mining activity time frame analysis. real economy , t slower pace. scenario trajectories loan book based market share approach plotted IEA STEPS, IEA APS, IEA NZE 2050 scenarios. trend loan book projection follows APS trajectory relatively closely examined time frame. Fig. 9: Volume trajectory plot coal mining (technology sector) loan book. Data based simulated test loan books.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_interpretation.html","id":"interpretation-of-the-production-volume-trajectory-plots","dir":"Articles","previous_headings":"Interpretation of Results > PACTA for Banks Outputs and Graphs > Production Volume Trajectory","what":"Interpretation of the Production Volume Trajectory Plots","title":"Interpretation of Results","text":"production volume trajectory plots show exposure loan book production capacity trends financed companies given technology next five years, showing changes percent relative start year. contrasts trend production trend real economy trajectories loan book finance order aligned scenarios based market share approach. shading graph represents direction required changes based scenario. green area top graph, technology needs increase time align scenario. red area top graph, technology needs decrease time align scenario. required rates change apply individual loan book determined using market share approach, using target market share ratio (TMSR) high-carbon technologies sector market share percentage (SMSP) low-carbon technologies. projected production trend loan book equal greater highest scenario line increasing technology, loan book aligned ambitious scenario technology. scenario line, loan book misalgined ambitious scenario technology. may still aligned less ambitious scenario. Likewise, projected production trend loan book equal lower lowest scenario line decreasing technology, loan book aligned ambitious scenario technology. scenario line, loan book misaligned ambitious scenario technology. may still aligned less ambitious scenario. information calculate TMSR SMSP, see PACTA Banks documentation. Also notice alignment one technology sector imply alignment entire sector. example, building electric vehicle production capacity line IEA NZE 2050 scenario say anything alignment internal combustion engine production capacity. ICE production decrease sufficiently fast, sector whole aligned. show technology mix chart, slow decrease ICE production depress share EV production production volume trajectory ICE production capacity.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_interpretation.html","id":"mapping-the-data-dictionary-to-the-production-volume-trajectory-plots","dir":"Articles","previous_headings":"Interpretation of Results > PACTA for Banks Outputs and Graphs > Production Volume Trajectory","what":"Mapping the Data Dictionary to the Production Volume Trajectory Plots","title":"Interpretation of Results","text":"detailed descriptions columns output files, please refer relevant section production volume trajectory data dictionary. variables table map figures follows: <by_group>: variable loan books split . determines group production volume trajectory shown. E.g. case aggregate loan book displayed figures 8 9, variable value “meta”. calculation grouped bank_type, resulting plots returned groups, credit unions, less significant institutions significant institutions. sector: PACTA sector production volume trajectory shown . technology: technology within sector production volume trajectory shown . year: production volume trajectory displays annual rates change production volume relative start year, x-axis showing years analysis. scenario_source: scenario source production volume trajectory shown . source set config.yml file. scenario source determines scenarios shown plot. Generally scenarios available sector technology shown represented lines delineate colored areas plot. metric/label: metric differentiates types lines shown production volume trajectory plot. projected refers production volume trajectory exposures loan book, corporate_economy represents production volume trajectory real economy selected region target_<scenario> refers production volume trajectory loan book need achieve five years future order aligned scenario based market share approach. <scenario> take values scenarios available sector technology scenario_ _source. label metric, human readable name displayed plot. percentage_of_initial_production_by_scope/value: actual value determines direction lines. percentage_of_initial_production_by_scope percentage initial production volume production volume future represents. Hence, positive value implies build underlying production capacity negative value stands decrease production capacity. value percentage_of_initial_production_by_scope, formatted display plot.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_interpretation.html","id":"sectoral-decarbonization-approach-results","dir":"Articles","previous_headings":"Interpretation of Results > PACTA for Banks Outputs and Graphs","what":"Sectoral Decarbonization Approach Results","title":"Interpretation of Results","text":"sectoral decarbonization approach (SDA) results provide intermediate format output required generate emission intensity plot. output data set can found ../analysis/standard/sda_results<...>.csv file, <…> replaced name variable set by_group parameter. information SDA results data set can found data dictionary.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_interpretation.html","id":"emission-intensity-pathway","dir":"Articles","previous_headings":"Interpretation of Results > PACTA for Banks Outputs and Graphs","what":"Emission Intensity Pathway","title":"Interpretation of Results","text":"emission intensity metric compares future emission intensity per real economic output unit given sector companies loan book companies wider economy scenario trajectories loan book five years future, based SDA approach. output data set can found ../analysis/standard/<...>/data_emission_intensity_<sector>.csv file, <…> replaced names groups variable set by_group parameter. means emission intensity results always show results one group time. emission intensity metric can calculated sector sector level physical emission intensity pathways, defined absolute emissions divided absolute real economic output. usually available broader range sectors technology level pathways, including called hard--abate sectors, low carbon alternatives commonly used production technologies often available yet, least market ready. emission intensity metric compared scenario values based SDA approach, calculation scenario values portfolio follows different rules market share approach used technology mix production volume trajectory. SDA approach convergence approach necessarily require stable market share companies /loan books. Rather, requires participants sector approach emission intensity target end year scenario. Notice end year scenario usually much farther future five year forward looking horizon analysis, loan book value expected converged scenario value five years. general explanation emission intensity metric, see also PACTA Investors website “Metrics” tab.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_interpretation.html","id":"example-plots-emission-intensity-pathway","dir":"Articles","previous_headings":"Interpretation of Results > PACTA for Banks Outputs and Graphs > Emission Intensity Pathway","what":"Example Plots Emission Intensity Pathway","title":"Interpretation of Results","text":"example emission intensity pathway plot cement production shows emission intensity companies loan book exposed remain relatively stable higher level wider economy next five years. also shows target loan book based IEA NZE 2050 scenario adjusted target wider economy based scenario decrease time frame. specific pathways scenario trajectories converge end year scenario calculation - case 2050 - calculated using convergence approach, SDA approach. Fig. 10: Emission intensity pathway plot cement production companies loan book. Data based simulated test loan books. another example emission intensity pathway plot steel sector, can see loan book emission intensity based steel company exposure emission intensity real economy. , trend emission intensity companies loan book well wider economy rather stable need decrease next five years order aligned respective scenario pathways, based SDA approach. also implies target scenario pathway loan book corporate economy converge end year scenario calculation. Fig. 11: Emission intensity pathway plot steel production companies loan book. Data based simulated test loan books.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_interpretation.html","id":"interpretation-of-the-emission-intensity-pathway-plots","dir":"Articles","previous_headings":"Interpretation of Results > PACTA for Banks Outputs and Graphs > Emission Intensity Pathway","what":"Interpretation of the Emission Intensity Pathway Plots","title":"Interpretation of Results","text":"emission intensity pathway plots show physical emission intensity trajectory portfolio weighted companies loan book exposed contrast physical emission intensity pathway companies relevant region real economy. Physical emission intensity case refers amount CO2(eq) emissions per unit real economic output sector hand. Since units output interchangeable per sector, across sectors, physical emission intensity useful sector level metric. Since emission intensity metric require technology level production pathways available, can used sectors now market-ready low carbon alternatives replace high-carbon technologies yet. PACTA sectors, case hard--abate sectors, cement, steel, aviation. can applied PACTA sectors well though, although may equally meaningful cases (example, phaseout coal mining, emission intensity coal mining may actionable metric). emission intensity different loan books vary within sector, depending companies loan books exposed . Accordingly, effort required banks align loan books target scenario sector differ well. SDA approach convergence approach, loan book higher average emission intensity expected follow steeper decline emission intensity loan book lower average emission intensity. necessary requirement convergence approach scenario allocation. However, initial level physical emission intensity loan book impact alignment loan book. Whether alignment achieved, depends solely rate change emission intensity relative loan book specific decarbonization pathway. information calculate SDA, see PACTA Banks documentation.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_interpretation.html","id":"mapping-the-data-dictionary-to-the-emission-intensity-pathway-plots","dir":"Articles","previous_headings":"Interpretation of Results > PACTA for Banks Outputs and Graphs > Emission Intensity Pathway","what":"Mapping the Data Dictionary to the Emission Intensity Pathway Plots","title":"Interpretation of Results","text":"detailed descriptions columns output files, please refer relevant section emission intensity pathway data dictionary. variables table map figures follows: <by_group>: variable loan books split . determines group emission intensity pathway shown. E.g. case aggregate loan book displayed figures 10 11, variable value “meta”. calculation grouped bank_type, resulting plots returned groups, credit unions, less significant institutions significant institutions. sector: PACTA sector emission intensity pathway shown . year: emission intensity pathway displays annual physical emission intensities, x-axis showing years analysis. scenario_source: scenario source emission intensity pathway shown . source set config.yml file. emission_factor_metric/label: metric differentiates types lines shown emission intensity pathway plot. projected refers emission intensity loan book based exposures underlying companies, corporate_economy represents emission intensity companies real economy, target_<scenario> refers emission intensity pathway loan book need follow remain aligned scenario based SDA approach, adjusted_scenario_<scenario> emission intensity pathway corporate economy sector need follow remain aligned. <scenario> stands selected target scenario set config.yml file. label emission_factor_metric, human readable name displayed plot. emission_factor_value: actual value determines points emission intensity lines follow plot. emission_factor_value ratio emissions per real economic output unit.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_interpretation.html","id":"net-aggregate-alignment-metric-outputs-and-graphs","dir":"Articles","previous_headings":"Interpretation of Results","what":"Net Aggregate Alignment Metric Outputs and Graphs","title":"Interpretation of Results","text":"section provides description data outputs graphs related Net Aggregate Alignment Metrics. data outputs intermediate files directly map plot. outputs explained detail vignette(\"data_dictionary\"). plots discussed detail, including relevant table data dictionary variables map plots. Please note plots section build Net Aggregate Alignment Metric, aggregation PACTA results every sector allows high level overview sector alignment loan book level higher. intended use case use metric first aggregate financial system level across loan books drill along different dimensions interest. idea behind approach facilitate comparison many different banks loan books using forward-looking production based alignment metrics without producing excessive amount plots results becomes hard navigate may reveal higher level patterns easily. Net Aggregate Alignment Metric first developed ECB Banking Supervision paper “Risks misalignment banks’ financing EU climate objectives - Assessment alignment European banking sector”. detailed description methodology used implementation Net Aggregate Alignment Metric, see two-part documentation metric, focusing starting company level calculation net alignment metric proceeding approach aggregating net alignment metric loan book level.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_interpretation.html","id":"net-aggregate-alignment-metric---sankey-plot","dir":"Articles","previous_headings":"Interpretation of Results > Net Aggregate Alignment Metric Outputs and Graphs","what":"Net Aggregate Alignment Metric - Sankey Plot","title":"Interpretation of Results","text":"net aggregate alignment sankey plot summarizes financial exposure (grouped ungrouped) loan book (left node) financial exposure PACTA sectors (middle node) finally whether exposures aligned based net aggregate alignment metric (right node). Alignment defined binary variable, underlying exposure alignment metric greater equal 0 considered aligned exposure alignment metric less 0 considered misaligned. main purpose type visualization provide overview system level alignment one quick glance, expense detail can obtained plots. output data set can found ../analysis/aggregated/data_sankey_sector<...>.csv file, <…> replaced names groups variable set by_group parameter.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_interpretation.html","id":"example-plots-net-aggregate-alignment-metric---sankey-plot","dir":"Articles","previous_headings":"Interpretation of Results > Net Aggregate Alignment Metric Outputs and Graphs > Net Aggregate Alignment Metric - Sankey Plot","what":"Example Plots Net Aggregate Alignment Metric - Sankey Plot","title":"Interpretation of Results","text":"example sankey plot looks aggregate financial exposure analyzed loan books (figure 12, left node). middle node shows large share financial exposure can found power sector, automotive oil & gas sectors also contributing significant chunks. Cement, coal steel contribute minor parts overall financial exposure. right node, turn, shows sector exposure distributed regard binary alignment metric, based net aggregate alignment metric. Overall, green ribbons indicate size aligned exposure, red ribbons indicate size misaligned exposure. can see aligned exposures make much smaller share overall exposure misaligned exposures. distribution alignment/misalignment furthermore varies significantly sectors, half exposure value oil & gas sector aligned, much higher share sectors. nature plot high level overview means show details. example, underlying companies classified aligned misaligned binary manner. net aggregate alignment metric continuous variable though, binary representation may skew extent alignment degree always complemented additional analyses following plots. Fig. 12: Sankey plot aggregated loan books sector net aggregate alignment metric. Data based simulated test loan books.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_interpretation.html","id":"interpretation-of-the-sankey-plot","dir":"Articles","previous_headings":"Interpretation of Results > Net Aggregate Alignment Metric Outputs and Graphs > Net Aggregate Alignment Metric - Sankey Plot","what":"Interpretation of the Sankey Plot","title":"Interpretation of Results","text":"sankey plot emphasizes distribution financial exposure analyzed loan books across sectors aligned misaligned counterparties. plot necessitate categorical variables types nodes, means net aggregate alignment metric transformed binary variable. size group node along y axis financial exposure group continuous variable plot. effect, statements can make based plot along lines “XY USD financial exposure loan books concentrated power sector. Among exposure power companies, largest share goes companies misaligned selected scenario”. can see, reveals much money lent many companies misaligned form. says nothing misaligned companies . might close , just behind, scenario target. might grossly target. reason still useful plot get quick view, sectors largest shares misaligned companies. makes easier prioritize company analytics look first. Additionally, can validate severity misalignment given sector, inspecting alignment--exposure plots, explained next.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_interpretation.html","id":"mapping-the-data-dictionary-to-the-sankey-plot","dir":"Articles","previous_headings":"Interpretation of Results > Net Aggregate Alignment Metric Outputs and Graphs > Net Aggregate Alignment Metric - Sankey Plot","what":"Mapping the Data Dictionary to the Sankey Plot","title":"Interpretation of Results","text":"detailed descriptions columns output files, please refer relevant section sankey plot data dictionary. variables table map figures follows: <by_group>: variable loan books split . corresponds leftmost node sankey plot values can either aggregate view analysed loan books values corresponding groups. middle_node: PACTA sectors financial exposure analyzed loan books. is_aligned: Binary variable can values “aligned” “aligned”. exposures aligned represented green ribbons, aligned red ribbons. underlying net alignment metric refers five year forward-looking values final year analysis. loan_size_outstanding: financial exposure loan books individual sectors grouped ìs_aligned. continuous variable determines size ribbons plot along y-axis.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_interpretation.html","id":"net-aggregate-alignment-by-financial-exposure","dir":"Articles","previous_headings":"Interpretation of Results > Net Aggregate Alignment Metric Outputs and Graphs","what":"Net Aggregate Alignment by Financial Exposure","title":"Interpretation of Results","text":"net aggregate alignment financial exposure plot summarizes net aggregate alignment metric (y-axis) (grouped ungrouped) loan book (dot color) financial exposure PACTA sectors (x-axis). Every sector shown separate pane equal scales, allows comparing significance exposures across sectors. plot, net aggregate alignment metric presented continuous variable along y axis, allows nuance compared sankey plot. Exposures misaligned companies influence loan book level alignment negatively , loan book level net aggregate alignment metric weighted mean underlying continuous company level net aggregate alignments weighted financial exposure. However, additional detail makes plot slightly slower read sankey plot. Generally, plot emphasizes scale net aggregate alignment exposure therefore good complementary plot sankey plot. output data set can found ../analysis/aggregated/data_scatter_alignment_exposure<...>.csv file, <…> replaced names groups variable set by_group parameter.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_interpretation.html","id":"example-plots-alignment-by-exposure","dir":"Articles","previous_headings":"Interpretation of Results > Net Aggregate Alignment Metric Outputs and Graphs > Net Aggregate Alignment by Financial Exposure","what":"Example Plots Alignment by Exposure","title":"Interpretation of Results","text":"example plot, analyse net aggregate alignment different bank types across six PACTA sectors. can see exposures credit unions oil & gas sector (misaligned) power sector (aligned), well exposures less significant institutions coal sector (misaligned) pronounced net aggregate alignment metrics. can avenue research specific companies seem drive results. also evident, plot make easy compare financial exposures across sectors, highlights one strengths sankey plot. Within sector however, financial exposure groups can easily differentiated. Fig. 13: Alignment exposure plot loan books grouped bank type. Data based simulated test loan books.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_interpretation.html","id":"interpretation-of-the-alignment-by-exposure-plots","dir":"Articles","previous_headings":"Interpretation of Results > Net Aggregate Alignment Metric Outputs and Graphs > Net Aggregate Alignment by Financial Exposure","what":"Interpretation of the Alignment by Exposure Plots","title":"Interpretation of Results","text":"Generally, alignment exposure sector useful interpretations net alignment within sectors. Groups (e.g. bank types, possibly types groups) right x-axis larger financial exposure companies sector groups. Dots higher y-axis indicate groups loan book level net aggregate alignment ahead scenario groups dot lower y-axis. 0 intercept y-axis means weighted average net aggregate alignment group right target. course, since net aggregate alignment loan book level weighted average underlying company level net aggregate alignments, positive y-value mean misaligned companies found loan book sector. individual company level alignment concern use case, check company level results validate . comprehensive output data set inspect company level net alignment metrics ../analysis/aggregated/company_exposure_net_aggregate_alignment<...>.csv file. Documentation contents can found relevant section data dictionary.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_interpretation.html","id":"mapping-the-data-dictionary-to-the-alignment-by-exposure-plots","dir":"Articles","previous_headings":"Interpretation of Results > Net Aggregate Alignment Metric Outputs and Graphs > Net Aggregate Alignment by Financial Exposure","what":"Mapping the Data Dictionary to the Alignment by Exposure Plots","title":"Interpretation of Results","text":"detailed descriptions columns output files, please refer relevant section alignment--exposure scatter plot data dictionary. variables table map figures follows: <by_group>: variable loan books split . corresponds differently colored dots panes. scenario: name scenario net aggregate alignment calculated. scenario set config.yml file. sector: PACTA sector exposure analysed loan books shown separate pane. year: net aggregate alignment metric calculated end year analysis, , five year forward-looking. exposure_weighted_net_alignment: y-axis value plot. net aggregate alignment metric loan book, calculated weighted average underlying company level net aggregate alignment metrics. weight financial exposure loan book companies sector. sum_loan_size_outstanding: x-axis value plot. financial exposure loan book companies sector.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_interpretation.html","id":"buildout-phaseout-scatter-plot-for-aggregate-alignment-metric","dir":"Articles","previous_headings":"Interpretation of Results > Net Aggregate Alignment Metric Outputs and Graphs","what":"Buildout-Phaseout Scatter Plot for Aggregate Alignment Metric","title":"Interpretation of Results","text":"net aggregate alignment metric can disaggregated build phase components sectors. Specifically sectors, technology level pathways high carbon low carbon technologies, can disaggregated way. may insightful analyze components understand better deviations scenario value driven much little effort either two sides. example, automotive sector, may reveal almost misalignment due lack phasing high carbon technologies, low carbon ones may aligned build . Similar patterns detected power sector. patterns can understood prompt, standard PACTA analyses may relevant inspect drill . output data set available loan book level compare disaggregation groups company level identify individual companies strong drivers. loan book level files can found ../analysis/aggregated/data_scatter_sector<...>.csv file, <…> replaced names groups variable set by_group parameter. company level files can found ../analysis/aggregated/<...>/data_scatter_<sector>_company<...>.csv file.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_interpretation.html","id":"example-plots-buildout-phaseout-aggregate-alignment","dir":"Articles","previous_headings":"Interpretation of Results > Net Aggregate Alignment Metric Outputs and Graphs > Buildout-Phaseout Scatter Plot for Aggregate Alignment Metric","what":"Example Plots Buildout-Phaseout Aggregate Alignment","title":"Interpretation of Results","text":"example plot shows loan book level build phaseout disaggregation three bank types. y-axis shows three bank types loan books exposures misalgined companies terms phaseout technologies. means high carbon technology production capacity decreasing fast enough loan books align selected scenario. build side (x-axis) plot varied, two bank types aligned terms exposure build technologies one misaligned. color dots indicates net alignment (sum build phase values). one three bank types positive net aggregate alignment value, indicated green hue position diagonal line. case alignment build technologies outweighs misalignment phase technologies. Fig. 14: Scatter plot showing buildout/phaseout disaggregation net aggregate alignment metric automotive sector bank type loan book level. Data based simulated test loan books. deeper dive company level disaggregation build phase components, following plot shows disaggregation less significant financial institutions company level. less significant institutions misaligned dot previous loan book level chart. plot shows companies less significant institutions exposed automotive sector firmly area misaligned build phase technologies company exposures closer positive alignment components. means misalignment automotive sector less significant financial institutions appear driven outliers, seems rather consistent across exposures. Fig. 15: Scatter plot showing buildout/phaseout disaggregation net aggregate alignment metric automotive sector less significant fiancial institutions company level. Data based simulated test loan books.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_interpretation.html","id":"interpretation-of-the-buildout-phaseout-scatter-plots-for-the-aggregate-alignment-metric","dir":"Articles","previous_headings":"Interpretation of Results > Net Aggregate Alignment Metric Outputs and Graphs > Buildout-Phaseout Scatter Plot for Aggregate Alignment Metric","what":"Interpretation of the Buildout-Phaseout Scatter Plots for the Aggregate Alignment Metric","title":"Interpretation of Results","text":"buildout-phaseout scatter plots show disaggregation net aggregate alignment metric build phase components. x-axis shows alignment loan book build technologies sector, y-axis shows alignment phase technologies sector. diagonal line top left bottom right plot indicates threshold sum build phase components correspond positive net aggregate alignment value. color dots indicates net aggregate alignment loan book. Green dots indicate positive net aggregate alignment, red dots indicate negative net aggregate alignment. plot also available company level. generated loan books, one dot corresponds one group loan books, e.g. three bank types, aggregate loan books bank types represented three dots. generated companies, one dot corresponds one company, companies shown exposure given by_group, e.g. results generated by_group = \"bank_type\" three bank types, get three company level plots, one containing dots companies corresponding bank type exposure . plot can used identify two components net aggregate alignment metric driving alignment misalignment loan book.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_interpretation.html","id":"mapping-the-data-dictionary-to-the-buildout-phaseout-scatter-plot-for-the-aggregate-alignment-metric","dir":"Articles","previous_headings":"Interpretation of Results > Net Aggregate Alignment Metric Outputs and Graphs > Buildout-Phaseout Scatter Plot for Aggregate Alignment Metric","what":"Mapping the Data Dictionary to the Buildout-Phaseout Scatter Plot for the Aggregate Alignment Metric","title":"Interpretation of Results","text":"detailed descriptions columns output files, please refer relevant section buildout/phaseout scatter plot data dictionary. variables table map figures follows: name: loan book level plots: names groups corresponding by_group value. company level plots: names companies exposures given group result. buildout: Net aggregate alignment metric build component loan book company. Maps x-axis. Aligned loan books companies positive value, misaligned ones negative value. phaseout: Net aggregate alignment metric phase component loan book company. Maps y-axis. Aligned loan books companies positive value, misaligned ones negative value. net: net aggregate alignment metric loan book company. Maps hue dot. Aligned loan books companies positive value (green hue), misaligned ones negative value (red hue). datapoint: Indicates results calculated loan book company level. PREVIOUS CHAPTER: Running Analysis NEXT CHAPTER: Advanced Use Cases","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_overview.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Overview","text":"cookbook provides step--step guide running PACTA Supervisors analysis using pacta.multi.loanbook package. analysis designed help financial supervisors assess alignment banks’ loan books Paris Agreement goals. sections cookbook follows: Overview: section provides overview PACTA Supervisors analysis main steps. Preparatory Steps: Prepare ABCD data optionally custom sector split. Running Analysis: Match raw loan books ABCD data run PACTA Supervisors analysis. Interpretation Results: Interpret results analysis understand outputs. Advanced Topics: Learn advanced topics custom grouping results adjust analysis parameters best results advanced research questions.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_overview.html","id":"what-is-the-pacta-for-supervisors-analysis","dir":"Articles","previous_headings":"Overview","what":"What is the PACTA for Supervisors analysis?","title":"Overview","text":"PACTA Supervisors based PACTA methodology, assesses alignment financial portfolios climate goals utilizing forward-looking asset-based company data (ABCD) linked financial assets compares production profiles companies technology emissions pathways climate transition scenarios sector /technology level.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_overview.html","id":"who-is-this-tool-built-for","dir":"Articles","previous_headings":"Overview","what":"Who is this tool built for?","title":"Overview","text":"PACTA Supervisors analysis primarily designed run financial supervisors , minimal additional guidance. However, can also useful tool user, case like run PACTA analysis multiple loan books. main difference tool individual PACTA Banks software packages tool aims facilitate analysis multiple loan books , streamlining process much possible, keep burden user minimum. helpful tool anyone like run PACTA analysis multiple loan books.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_overview.html","id":"what-can-the-results-of-the-pacta-for-supervisors-analysis-be-used-for","dir":"Articles","previous_headings":"Overview","what":"What can the results of the PACTA for Supervisors analysis be used for?","title":"Overview","text":"Financial supervisors regulators can use results analysis assess alignment banks’ loan books Paris Agreement goals, identify sectors banks may need take action improve alignment, screen financial system potential climate-related transition risks. analysis can parameterised different ways explore patterns across analysed loan books. run private institutions, results may additionally used identify opportunities climate-aligned investments, well detecting individual counterparties may exposed climate-related transition risks may therefore require dedicated focus risk management process. Users able obtain tabular outputs plots can used use cases. tabular output enables processing alignment results models tools, example input financial risk models, recurring input internal monitoring systems. level granularity outputs allows systematic analysis climate alignment starting financial system level (across analyzed loan books together), individual counterparty level, across sectors technologies. Grouping results levels additional dimensions can easily achieved using configuration file.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_overview.html","id":"what-are-the-main-steps-of-the-analysis","dir":"Articles","previous_headings":"Overview","what":"What are the main steps of the analysis?","title":"Overview","text":"main steps analysis follows: Data preparation: Prepare ABCD data optionally custom sector split. Matching process: Match raw loan books ABCD data. Prioritization loan books; Match success coverage diagnostics: Prioritize matched loan books analyze coverage. Run PACTA Supervisors analysis: Run analysis based parameters set config.yml file. cookbook guide steps analysis detail, explain required input data sets software, provide guidance interpret results. NEXT CHAPTER: Preparatory Steps","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_preparatory_steps.html","id":"preparatory-steps","dir":"Articles","previous_headings":"","what":"Preparatory Steps","title":"Preparatory Steps","text":"section provides overview preparatory steps need taken running PACTA Supervisors analysis. includes information required input data sets, required software, setup project folder file structure. Finally, provides checklist steps need taken running analysis, summarizing brief steps explained detail .","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_preparatory_steps.html","id":"required-input-data-sets","dir":"Articles","previous_headings":"Preparatory Steps","what":"Required Input Data Sets","title":"Preparatory Steps","text":"PACTA Supervisors analysis requires number input data sets run. can obtained external sources, others need prepared user. Furthermore, input data sets optional inclusion depend settings provided config.yml file. main input data sets required analysis following:","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_preparatory_steps.html","id":"asset-based-company-data-abcd","dir":"Articles","previous_headings":"Preparatory Steps > Required Input Data Sets","what":"Asset-based Company Data (ABCD)","title":"Preparatory Steps","text":"required input external source XLSX file data set provides information production profiles emission intensities companies active following real economy sectors: Automotive (light-duty vehicles) manufacturing, aviation, cement production, coal mining, upstream oil & gas extraction, power generation, steel production. ABCD typically obtained third party data providers. However, possible prepare ABCD complement external data set entries may covered box. ABCD data set must XLSX file contains following columns: company_id name_company lei is_ultimate_owner sector technology plant_location year production production_unit emission_factor emission_factor_unit PACTA data agnostic allows using data provider offers appropriate format, one option obtain ABCD analysis buy data data provider Asset Impact. information obtain ABCD PACTA documentation individual sectors data points can found Asset Impact website.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_preparatory_steps.html","id":"scenario-data","dir":"Articles","previous_headings":"Preparatory Steps > Required Input Data Sets","what":"Scenario Data","title":"Preparatory Steps","text":"required input(s) external source CSV file(s) scenario data set provides information trajectories technologies/fuel types emission intensity pathways (subset ) sectors covered PACTA. sectors technology level trajectories, data set provides TMSR SMSP pathways based Market Share Approach, allocation rule implies companies active sector adjust production way keeps market shares constant solves aggregate climate transition scenario. information calculate TMSR SMSP, see PACTA Banks documentation. target market share scenario data set must CSV file contains following columns: scenario_source region scenario sector technology year smsp tmsr sectors technology level pathways, PACTA uses Sectoral Decarbonization Approach (SDA), allocation rule implies companies sector converge physical emission intensity future scenario value - e.g. year 2050. implies polluting companies reduce physical emissions intensity drastically companies using cleaner technology. direct implications amount units produced company. information calculating SDA PACTA, please see PACTA Banks documentation. SDA scenario data set must CSV file contains following columns: scenario_source region scenario sector year emission_factor emission_factor_unit raw input values scenarios based models external third party organisations - World Energy Outlook International Energy Agency (IEA), Global Energy Climate Outlook Joint Research Center European Commission (JRC), One Earth Climate Model Institute Sustainable Futures (ISF) - input data set PACTA must prepared using additional steps, documented publicly following GitHub repositories: pacta.scenario.data.preparation workflow.scenario.preparation Since RMI taken stewardship PACTA, prepared scenario files can also accessed CSV downloads PACTA website “Methodology Documents” tab “PACTA Banks” section. files usually updated annually based latest scenario publications general rule, year publication defines initial year scenario data set. commonly also used start year analysis, specified config.yml file.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_preparatory_steps.html","id":"raw-loan-books","dir":"Articles","previous_headings":"Preparatory Steps > Required Input Data Sets","what":"Raw Loan Books","title":"Preparatory Steps","text":"required input self-prepared CSV file(s) raw loan books financial data sets like analyze. contain information loans banks provided companies. supervisor, data required construct data sets typically available regulatory filings accessed via internal data bases similar. bank, data required available internal systems. raw loan books must prepared CSV files contain minimum following columns: id_loan id_direct_loantaker name_direct_loantaker id_ultimate_parent name_ultimate_parent loan_size_outstanding loan_size_outstanding_currency loan_size_credit_limit loan_size_credit_limit_currency sector_classification_system sector_classification_direct_loantaker lei_direct_loantaker isin_direct_loantaker NOTE: tool automatically add column group_id loan books, uses file name value. allows group results analysis loan book, using by_group parameter config.yml file. variable may want group results , need add column raw loan book files provide by_group parameter config.yml file. detailed descriptions prepare raw loan books, see PACTA Banks documentation navigate “Training Materials” tab “PACTA Banks” section. “User Guide 2”, “Data Dictionary”, “Loan Book Template” files can helpful preparing data.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_preparatory_steps.html","id":"misclassified-loans","dir":"Articles","previous_headings":"Preparatory Steps > Required Input Data Sets","what":"Misclassified Loans","title":"Preparatory Steps","text":"optional input self-prepared CSV file user can provide list loans misclassified raw loan books. aim specifically remove false positives, , loans classified scope one PACTA sectors, manual research shows companies actually operate within PACTA scope. false positive may due erroneous data entry raw loan book, example. Removing loans falsely indicated sector calculation match success rate give accurate picture match success rate can really reached.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_preparatory_steps.html","id":"asset-based-company-data-abcd-for-company-sector-split","dir":"Articles","previous_headings":"Preparatory Steps > Required Input Data Sets","what":"Asset-Based Company Data (ABCD) for company sector split","title":"Preparatory Steps","text":"optional input external source XLSX file case user wants split company exposures across sectors scope activity, user must provide version ABCD data set follows format Advanced Company Indicators data set Asset Impact. data set includes power generation values required primary energy based sector split. , information data Asset Impact can found Asset Impact website.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_preparatory_steps.html","id":"companies-to-apply-primary-energy-split-on","dir":"Articles","previous_headings":"Preparatory Steps > Required Input Data Sets","what":"Companies to apply primary energy split on","title":"Preparatory Steps","text":"optional input self-prepared CSV file applying sector split company exposures, user can provide list companies sector split based primary energy content. companies, simple equal weights split applied. information sector split, see documentation vignette(\"sector_split\").","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_preparatory_steps.html","id":"manual-sector-classification","dir":"Articles","previous_headings":"Preparatory Steps > Required Input Data Sets","what":"Manual Sector Classification","title":"Preparatory Steps","text":"optional input self-prepared CSV file case user obtain sector classification codes classification systems featured r2dii.data::sector_classifications (currently following classification systems featured: GICS, ISIC, NACE, NAICS, PSIC, SIC), user can provide manually created sector classification file matching loan book ABCD instead. Generally, manually prepared sector classification file must follow format r2dii.data::sector_classifications. information appropriate settings needed configuration file can found documentation config.yml file. recommended use built sector classifications possible, mapping sector classification PACTA sectors can complex time consuming.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_preparatory_steps.html","id":"required-software","dir":"Articles","previous_headings":"Preparatory Steps","what":"Required Software","title":"Preparatory Steps","text":"Using pacta.multi.loanbook package PACTA Supervisors analysis requires following software installed system:","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_preparatory_steps.html","id":"r-version-4-1-0-or-higher","dir":"Articles","previous_headings":"Preparatory Steps > Required Software","what":"R (version 4.1.0 or higher)","title":"Preparatory Steps","text":"R programming language pacta.multi.loanbook package written . can download R Comprehensive R Archive Network (CRAN).","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_preparatory_steps.html","id":"rstudio-optional","dir":"Articles","previous_headings":"Preparatory Steps > Required Software","what":"RStudio (optional)","title":"Preparatory Steps","text":"RStudio integrated development environment (IDE) R developed Posit. strictly required run analysis, can helpful managing project running analysis. Generally, RStudio widely used among R community probably easiest way interact R tools, pacta.multi.loanbook. RStudio Desktop open source tool free charge. can download RStudio Posit RStudio website.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_preparatory_steps.html","id":"pacta-multi-loanbook-r-package","dir":"Articles","previous_headings":"Preparatory Steps > Required Software","what":"pacta.multi.loanbook R package","title":"Preparatory Steps","text":"pacta.multi.loanbook package main software tool use run PACTA Supervisors analysis. can install development version pacta.multi.loanbook GitHub : use pak package simple tool install packages GitHub.","code":"# install.packages(\"pak\") pak::pak(\"RMI-PACTA/pacta.multi.loanbook\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_preparatory_steps.html","id":"connecting-to-github-from-rstudio","dir":"Articles","previous_headings":"Preparatory Steps > Required Software > pacta.multi.loanbook R package","what":"Connecting to GitHub from RStudio","title":"Preparatory Steps","text":"Note choose install pacta.multi.loanbook GitHub, need : registered GitHub account, git installed locally, set credentials RStudio can communicate GitHub. can find information using following resources: Happy Git GitHub useR great comprehensive resource takes process setting git GitHub RStudio, including registering GitHub account, installing git, connecting RStudio GitHub. Additional information managing GitHub connection within RStudio can found usethis package documentation, example managing git credentials. plan use GitHub install package packages shown , deep understanding git commands, need overwhelmed complexity git.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_preparatory_steps.html","id":"required-r-packages","dir":"Articles","previous_headings":"Preparatory Steps > Required Software","what":"Required R packages","title":"Preparatory Steps","text":"pacta.multi.loanbook package depends number R packages. dependencies installed automatically install pacta.multi.loanbook package. required packages : cli (>= 3.2.0), config, dplyr, ggplot2, glue, networkD3, r2dii.analysis (>= 0.3.0), r2dii.data (>= 0.5.0), r2dii.match (>= 0.3.0), r2dii.plot (>= 0.4.0), readr (>= 2.0.0), readxl, rlang, scales, tidyr, webshot, yaml, yesno","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_preparatory_steps.html","id":"suggested-r-packages","dir":"Articles","previous_headings":"Preparatory Steps > Required Software","what":"Suggested R packages","title":"Preparatory Steps","text":"suggested packages required run analysis, used examples vignettes provided package: gt, knitr, pkgdown, rmarkdown, usethis, testthat (>= 3.1.9), tibble, withr, writexl","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_preparatory_steps.html","id":"how-do-i-install-the-pacta-multi-loanbook-package","dir":"Articles","previous_headings":"Preparatory Steps > Required Software > FAQ","what":"How do I install the pacta.multi.loanbook package?","title":"Preparatory Steps","text":"common ways install R packages via CRAN GitHub. Public institutions often restrictions installation packages GitHub, may need install package CRAN. cases, institution may mirror CRAN internal application registry, may need install package . issues installation internal application registry, best reach department. obtain package ways, please reach package maintainers directly exploring options.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_preparatory_steps.html","id":"how-do-i-install-the-required-r-packages","dir":"Articles","previous_headings":"Preparatory Steps > Required Software > FAQ","what":"How do I install the required R packages?","title":"Preparatory Steps","text":"principle, dependencies required run pacta.multi.loanbook package installed automatically install package. However, encounter issues installation required packages, can install manually running following command R, … replaced package names list , separated commas:","code":"install.packages(c(...))"},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_preparatory_steps.html","id":"config","dir":"Articles","previous_headings":"Preparatory Steps > Project Setup","what":"Config","title":"Preparatory Steps","text":"functions needed run PACTA Supervisors analysis take config argument, can either path config.yml file (see vignette(\"config_yml\")) config list object containing previously imported settings config.yml file. settings/options configured config.yml file.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_preparatory_steps.html","id":"inputoutput-folder-structure","dir":"Articles","previous_headings":"Preparatory Steps > Project Setup","what":"Input/Output folder structure","title":"Preparatory Steps","text":"config.yml file points input directory four output directories, one user-facing function, user can choose anywhere system, long R read write access directories. recommendable choice structure analysis project place folders config.yml file project folder. input folder must contain input files described , raw loan books placed sub-directory must named \"loanbooks\". output folders automatically created locations indicated config.yml file. populated running analysis. NOTE: Re-running step analysis replace entire corresponding output directory, directory already exists. example project folder structured: Notice names directories can changed something user may prefer. names chosen illustrative purposes reflect corresponding user-facing functions create outputs.","code":"your_project_folder ├── config.yml ├── input │   ├── ABCD.xlsx │   ├── loanbooks │   │   ├── raw_loanbook_1.csv │   │   ├── raw_loanbook_2.csv │   │   └── ... │   ├── scenario_data_tms.csv │   ├── scenario_data_sda.csv │   └── ... ├── prepared_abcd ├── matched_loanbooks ├── prioritized_loanbooks_and_diagnostics └── analysis"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_preparatory_steps.html","id":"initialise-a-project","dir":"Articles","previous_headings":"Preparatory Steps > Project Setup","what":"Initialise a Project","title":"Preparatory Steps","text":"can use following code initialise project folder structure: create minimal project folder structure similar one shown . Note target path pass initialise_default_project() must path exist yet, newly set overwrite existing files. Within path, input sub-directory config.yml file created. ìnput sub-directory contain another sub-directory loanbooks. Neither input input/loanbooks contain files stage populate files described following structure outlined. config.yml file created default settings. Output paths config.yml file point sub directories path pass initialise_default_project(), running remaining steps analysis keep inputs outputs one common project folder. can edit config.yml file adjust settings needs, described corresponding documentation (see vignette(\"config_yml\")). strictly necessary use initialise_default_project() function set project folder. prefer setting another folder structure manually creating config.yml scratch, can . can helpful ensure necessary files folders place.","code":"library(pacta.multi.loanbook) initialise_default_project(path = \"path/to/your_project_folder\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_preparatory_steps.html","id":"checklist-of-preparatory-steps","dir":"Articles","previous_headings":"Preparatory Steps","what":"Checklist of Preparatory Steps","title":"Preparatory Steps","text":"running PACTA Supervisors analysis, make sure completed following preparatory steps: Asset-based Company Data (ABCD) Scenario Data Raw Loan Books Asset-based Company Data (ABCD) company sector split Companies apply primary energy split Misclassified Loans Manual Sector Classification R (version 4.1.0 higher) RStudio (optional) pacta.multi.loanbook R package set git GitHub (optional) pacta.multi.loanbook dependencies pacta.multi.loanbook suggests Created project folder (can handled initialise_default_project()) Created config.yml file placed project folder (can handled initialise_default_project()) Created input folder project folder (can handled initialise_default_project()) Placed raw loan books input/loanbooks sub-directory Placed input data sets input folder Created appropriate values input ouput directories config.yml file PREVIOUS CHAPTER: Overview NEXT CHAPTER: Running Analysis","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_running_the_analysis.html","id":"running-the-analysis","dir":"Articles","previous_headings":"","what":"Running the Analysis","title":"Running the Analysis","text":"section provides step--step guide running PACTA Supervisors analysis using pacta.multi.loanbook package. includes information structure workflow, required functions, interpretation results.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_running_the_analysis.html","id":"structure-of-the-workflow","dir":"Articles","previous_headings":"Running the Analysis","what":"Structure of the Workflow","title":"Running the Analysis","text":"PACTA Supervisors analysis consists four main steps: Data preparation: Preparing input data sets requirements analysis. Matching process: Matching raw loan books ABCD data validating matches manually. Prioritization loan books: Selecting correct matches analysis diagnosing match success coverage statistics Run PACTA Supervisors analysis: Running analysis based parameters set config.yml file generate production-based alignment analysis. following diagram illustrates structure workflow: Fig. 1: Structure Workflow diagram shows, logical sequence run functions. functions work, previous functions must run already outputs must accessible inputs next functions. want keep different versions calculations, .e. want avoid overwriting past outputs, (1) ensure run done new value corresponding output directory set config.yml (2) relevant function refers appropriate directories upstream outputs. example, want run analysis twice keep results, dir_* entries config.yml remain identical runs, except dir_analysis entry, different run. following sub sections provide detailed information steps analysis, starting brief explanation setup, functions require path config.yml file input argument.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_running_the_analysis.html","id":"setup","dir":"Articles","previous_headings":"Running the Analysis","what":"Setup","title":"Running the Analysis","text":"run PACTA Supervisors interactively script may prepared, likely want load pacta.multi.loanbook package save path config.yml file variable first: allows passing relevant config information easily four main functions.","code":"library(pacta.multi.loanbook) config_path <- \"path/to/config.yml\""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_running_the_analysis.html","id":"data-preparation","dir":"Articles","previous_headings":"Running the Analysis","what":"Data preparation","title":"Running the Analysis","text":"first step analysis prepare input data sets requirements analysis. ABCD data need prepared can optionally use custom sector split, also need prepared. relevant function prepare_abcd(), takes configurations config.yml prepared. function store intermediary files directory indicated value corresponding key dir_prepared_abcd config.yml. step run analysis. can run function follows:","code":"pacta.multi.loanbook::prepare_abcd(config_path)"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_running_the_analysis.html","id":"options-for-the-prepare_abcd-function","dir":"Articles","previous_headings":"Running the Analysis > Data preparation","what":"Options for the prepare_abcd() function","title":"Running the Analysis","text":"prepare_abcd() function number options can set config.yml file. options include: remove_inactive_companies: whether inactive companies removed ABCD data (information options available, see relevant section preparing ABCD vignette(\"config_yml\").) sector_split: company sector split applied calculations (information options available, see relevant section sector split vignette(\"config_yml\")). Additionally, see documentation sector split methodology vignette(\"sector_split\").","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_running_the_analysis.html","id":"sector-split","dir":"Articles","previous_headings":"Running the Analysis > Data preparation","what":"Sector split","title":"Running the Analysis","text":"want use sector split, can specify company identifiers split applied providing CSV file company identifiers split_company_ids.csv file input directory. file contain columns company_id name_company identify relevant companies. deciding apply sector split, strongly recommended read documentation sector split vignette(\"sector_split\") first.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_running_the_analysis.html","id":"matching-process","dir":"Articles","previous_headings":"Running the Analysis","what":"Matching process","title":"Running the Analysis","text":"next step analysis run matching process. Assuming prepared raw loan books explained section preparing input data sets, can now use match_loanbooks() function. read raw loan books inputs attempt match prepared ABCD data previous step. function store matched loan book files directory indicated value corresponding key dir_matched_loanbooks config.yml. can run function follows: matching process complete, need manual matching. means need manually inspect suggested matches tool found decide ones keep remove. especially important using text based matching, guarantee similar company names identified algorithms actually refer companies raw loan books ABCD. Thus, manual validation step crucial analysis, quality matches determine quality results calculations. manual matching process automated require time effort part. can find matched loan books directory specified dir_matched_loanbooks parameter config.yml file. matched loan books stored CSV files, one raw loan book. can open files spreadsheet program verify matches. Importantly, need make copy matched loan book files directory rename copy adding suffix _manual file name. following steps analysis expect pattern, important follow naming convention. can find detailed information matching process training material PACTA Banks website section “PACTA Banks Training Webinar 2” corresponding slide deck.","code":"pacta.multi.loanbook::match_loanbooks(config_path)"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_running_the_analysis.html","id":"some-expectations-for-the-matching-process","dir":"Articles","previous_headings":"Running the Analysis > Matching process","what":"Some expectations for the matching process","title":"Running the Analysis","text":"Raw loan books often include companies scope PACTA analysis, example may companies active financial sector manufacturing products. sectors fully scope. may also companies active upstream downstream activities sectors covered PACTA. means company activities part value chain covered PACTA accordingly companies matched. Examples power distribution companies companies manufacture aircrafts. ABCD data set may cover companies scope PACTA analysis. coverage real economy sectors usually rather high data sets commonly used PACTA, gaps. implies -scope companies matched ABCD data set include . Advanced users may research production profiles companies add ABCD data manually, however involved process standard procedure therefore covered cookbook. using sector classifications matching process (recommended whenever possible), matches may identified case companies raw loan book misclassified. example, utility focused coal-fired power generation classified coal mining company, matching function suggest match. Given unlikely match loans, recommended try match companies largest financial exposures first, ensures best possible financial coverage loan book analysis. also recommended run multiple iterations matching process, potentially adjusting matching parameters config.yml file, see can improve match success rate. match success rate can obtained based manually validated matched loan books raw loan books described next section prioritization diagnostics.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_running_the_analysis.html","id":"options-for-the-match_loanbooks-function","dir":"Articles","previous_headings":"Running the Analysis > Matching process","what":"Options for the match_loanbooks() function","title":"Running the Analysis","text":"match_loanbooks() function number options can set config.yml file. options include: params_match_name: multiple options specify approach matching raw loan book ABCD relevant section matching vignette(\"config_yml\")). Note parameters based r2dii.match::match_name function pass parameters directly function. information options available, see documentation r2dii.match package. also covers matching based unique identifiers, reliable way match companies, requires raw loan books ABCD contain identifiers. manual_sector_classification: whether use manually prepared sector classification system matching loan books -scope PACTA sectors, see relevant section matching vignette(\"config_yml\")), . need use manually prepared sector classification file, sector classification systems provided r2dii.data::sector_classifications can used, currently cover following sector classifications: GICS, ISIC, NACE, NAICS, PSIC, SIC. possible map loans loan books systems, can prepare mapping file follows structure sector classification files r2dii.data::sector_classifications use config file instruct code use file matching. Note promising approach classifications using sufficiently granular map PACTA sectors without excessive ambiguity.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_running_the_analysis.html","id":"addressing-misclassfied-loans","dir":"Articles","previous_headings":"Running the Analysis > Matching process","what":"Addressing misclassfied loans","title":"Running the Analysis","text":"two ways appropriately handle misclassified loans identified -scope raw data set matched. Correct classification raw loan book re-run matching process. loan clearly mis-classified, may appropriate way handle issue. may good idea record changes made input data though. upside approach loan now either matched correctly, assigned sector company therefore find entry ABCD data set match . , still match found ABCD, loan correctly missing appropriate sector therefore indicate lower match success rate . manual re-classification raw loan book possible desired, calculation match success rate can corrected adding file loans_to_remove.csv input directory. file include columns id_loan group_id indicate precise mis-classified loan loan book found. combination loan loan book excluded match success calculation. reason good idea either correct mis-classified loans disregard calculation match success rate mis-classified loan possibly matched given sector. Therefore, amount work sufficient improve sector match success rate, calculated incorrect baseline. Technically, user forced correct misclassifications, may limit much time spent , recommended least correct large mis-classified loans.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_running_the_analysis.html","id":"sector-split-1","dir":"Articles","previous_headings":"Running the Analysis > Matching process","what":"Sector split","title":"Running the Analysis","text":"want apply sector split loan books, keep relevant sectors matched loan book, instead one sector. sector split applied matched loan books, sector split based sectors matched loan books. keep one sector matched loan books, sector split applied correctly may wrongly appear reduce overall matched financial exposure. sector split applied matched loan books next step analysis.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_running_the_analysis.html","id":"prioritization-of-loan-books-match-success-and-coverage-diagnostics","dir":"Articles","previous_headings":"Running the Analysis","what":"Prioritization of loan books; Match success and coverage diagnostics","title":"Running the Analysis","text":"next step prioritize manually verified matched loan books analyze coverage, relative raw loan book inputs (“match success rate”) production capacity wider economy (“loan book production coverage”). Prioritizing loan books means keep best identified match loan use following steps analysis. probably want check status loan book production coverage several times, rare get desired level matching one iteration (see corresponding “Coverage Diagnostics” section next chapter details interpret coverage values). means may want repeat previous step (matching loan books, likely using different parameters different iterations) step (prioritizing matched loan books analyzing match success rate) number times reach best possible outcome. prioritize matched loan books calculate coverage diagnostics, use prioritise_and_diagnose() function. call store matched prioritized loan book files coverage diagnostics directory indicated value corresponding key dir_prioritized_loanbooks_and_diagnostics config.yml. can run function follows:","code":"pacta.multi.loanbook::prioritise_and_diagnose(config_path)"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_running_the_analysis.html","id":"options-for-the-prioritise_and_diagnose-function","dir":"Articles","previous_headings":"Running the Analysis > Prioritization of loan books; Match success and coverage diagnostics","what":"Options for the prioritise_and_diagnose() function","title":"Running the Analysis","text":"prioritise_and_diagnose() function number options can set config.yml file. options include: priority: option set specific order prioritizing matches. option passed directly r2dii.match::prioritize function. NULL valid default value usually setting works well, least starting point. information, see relevant section prioritization matched loan books vignette(\"config_yml\") documentation r2dii.match::prioritize() function . by_group: variables group loan books produce grouped results analysis. parameter used across multiple steps analysis, diagnostics analysis. slices /aggregates loan books analysis produce results along indicated dimension. by_group parameter passed (.e. NULL), loan books aggregated. Otherwise, loan books can either kept separate (group_id) grouped variable provided raw loan books. Although by_group considered project parameter mainly relevant main section analysis affect split prioritzed loan books coverage metrics returned, good aware parameter point. See relevant section by_group parameter documentation config.yml file.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_running_the_analysis.html","id":"run-pacta-for-supervisors-analysis","dir":"Articles","previous_headings":"Running the Analysis","what":"Run PACTA for Supervisors analysis","title":"Running the Analysis","text":"final step running analysis based parameters set config.yml file. entails standard PACTA Banks analysis calculation net aggregate alignment metric. parts analysis, outputs stored sub-directories ../standard/ (standard PACTA Banks results) ../aggregated/ net aggregate alignment metric directory - directory indicated value corresponding key dir_analysis config.yml. Outputs sub directories comprise tabular outputs plots. run analysis previously matched prioritized loan books, use analyse() function follows:","code":"pacta.multi.loanbook::analyse(config_path)"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/cookbook_running_the_analysis.html","id":"options-for-the-analysis-function-and-the-overall-analysis","dir":"Articles","previous_headings":"Running the Analysis > Run PACTA for Supervisors analysis","what":"Options for the analysis() function and the overall analysis","title":"Running the Analysis","text":"analysis() function number options can set config.yml file. options include: scenario_source: source used allocating climate transition scenario pathways companies loan books. refers relevant scenario publication usually contains name year publication, e.g.: \"weo_2023\" \"geco_2023\". scenario_select: scenario used reference net aggregate alignment metric. must scenario included scenario_source indicated . region_select: region use reference analysis. filter underlying production capacity assets relevant region measure alignment scenario trajectory relevant region. must therefore region, scenario data available source selected . Note usually, \"global\" also valid region. start_year: start year analysis. must year available ABCD data scenario data prepared. loan book data assumed snapshot end year. time_frame: time frame analysis, refers number forward looking years start year considered alignment analysis. Usually time frame set 5 years. Specifically, must time frame scenario data values ABCD data values available sectors analyzed. many cases, expected change time frame something else default value 5 years. by_group: variables group loan books produce grouped results analysis. parameter used across multiple steps analysis, diagnostics analysis. slices /aggregates loan books analysis produce results along indicated dimension. by_group parameter passed (.e. NULL), loan books aggregated. Otherwise, loan books can either kept separate (group_id) grouped variable provided raw loan books. options documented detail section project parameters vignette(\"config_yml\"). Usually, interesting run analysis one by_group value, possibly also multiple combinations parameters. therefore run analysis many times combinations interest wish generate results . , take account running pacta.multi.loanbooks function multiple times different parameters overwrite results previous run use new output directories run. recommended set new output directory config.yml file run analysis, want keep results multiple runs can compare outcomes based different parameters. last chapter “Advanced Use Cases” describes go process detail. However, recommended going standard process analysis completely , approaching advanced use cases. PREVIOUS CHAPTER: Preparatory Steps NEXT CHAPTER: Interpretation Results","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"intro","dir":"Articles","previous_headings":"","what":"Intro","title":"Understanding the data","text":"many cases, users package want use outputs analyses processing, additional analyses making visualizations based design guide organisation. facilitate additional use cases, also simplify interpretation outputs generated package, data dictionary documents type output table detail, focusing data types definitions. article structured based output tables generated pacta.multi.loanbook follows standard flow user experience much possible, can read sequence analysis run.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"tables","dir":"Articles","previous_headings":"","what":"Tables","title":"Understanding the data","text":"main steps generate output tables : Diagnostics coverage Standard PACTA analysis Aggregated PACTA metrics","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"diagnostics","dir":"Articles","previous_headings":"Tables","what":"Diagnostics","title":"Understanding the data","text":"diagnostics section split determining match success rate loan books analysed inspecting real economy activity related financing made banks matched loan books. former influenced quality input loan book data completeness reference production data loan books matched. latter, depends solid match success rate, mainly driven financing decisions portfolio allocation made banks. sector split applied loan book, companies lost process documented every loan book.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"match-success-rate","dir":"Articles","previous_headings":"Tables > Diagnostics","what":"Match success rate","title":"Understanding the data","text":"","code":"dplyr::filter(data_dictionary, .data[[\"dataset\"]] == \"lbk_match_success_rate\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"loan-book-coverage","dir":"Articles","previous_headings":"Tables > Diagnostics","what":"Loan book coverage","title":"Understanding the data","text":"","code":"dplyr::filter(data_dictionary, .data[[\"dataset\"]] == \"summary_statistics_loanbook_coverage\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"companies-lost-in-sector-split","dir":"Articles","previous_headings":"Tables > Diagnostics","what":"Companies lost in sector split","title":"Understanding the data","text":"","code":"dplyr::filter(data_dictionary, .data[[\"dataset\"]] == \"lost_companies_sector_split\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"standard-pacta-analysis","dir":"Articles","previous_headings":"Tables","what":"Standard PACTA analysis","title":"Understanding the data","text":"standard PACTA analysis run across input banking books, produces output metrics known r2dii.* packages. Results given portfolio level grouped banking book. Beyond standard output format, tables provided can used input visualizations, standard sectors technologies.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"target-market-share-results-all-groups","dir":"Articles","previous_headings":"Tables > Standard PACTA analysis","what":"Target Market Share results (all groups)","title":"Understanding the data","text":"Target market share results portfolio level included banking book","code":"dplyr::filter(data_dictionary, .data[[\"dataset\"]] == \"tms_results\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"sectoral-decarbonization-approach-results-all-groups","dir":"Articles","previous_headings":"Tables > Standard PACTA analysis","what":"Sectoral Decarbonization Approach results (all groups)","title":"Understanding the data","text":"SDA results portfolio level included banking book","code":"dplyr::filter(data_dictionary, .data[[\"dataset\"]] == \"sda_results\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"data-tech-mix","dir":"Articles","previous_headings":"Tables > Standard PACTA analysis","what":"Data tech mix","title":"Understanding the data","text":"Results given portfolio sector, tailored used tech mix chart","code":"dplyr::filter(data_dictionary, .data[[\"dataset\"]] == \"data_tech_mix\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"data-trajectory","dir":"Articles","previous_headings":"Tables > Standard PACTA analysis","what":"Data trajectory","title":"Understanding the data","text":"Results given portfolio, sector technology, tailored used volume trajectory chart","code":"dplyr::filter(data_dictionary, .data[[\"dataset\"]] == \"data_trajectory\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"data-emission-intensity","dir":"Articles","previous_headings":"Tables > Standard PACTA analysis","what":"Data emission intensity","title":"Understanding the data","text":"Results given portfolio sector, tailored used emission intensity chart","code":"dplyr::filter(data_dictionary, .data[[\"dataset\"]] == \"data_emission_intensity\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"companies-included","dir":"Articles","previous_headings":"Tables > Standard PACTA analysis","what":"Companies included","title":"Understanding the data","text":"Lists companies including exposures, analysed given loan book therefore included data visualized.","code":"dplyr::filter(data_dictionary, .data[[\"dataset\"]] == \"companies_included\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"aggregated-pacta-metrics","dir":"Articles","previous_headings":"Tables","what":"Aggregated PACTA metrics","title":"Understanding the data","text":"aggregated PACTA metrics also run across input banking books. calculations produce net aggregate alignment metric, defined vignettes “Calculation company alignment metric” “Calculation exposure-weighted aggregated alignment metric” allows producing corresponding plots. Results grouped level defined by_group parameter.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"company-technology-deviation","dir":"Articles","previous_headings":"Tables > Aggregated PACTA metrics","what":"Company technology deviation","title":"Understanding the data","text":"company analyzed banking books, shows deviation technology build-final year analysis corresponding allocated scenario value. intermediate result processed calculation net aggregate alignment metric. available sectors, technology level calculations using target market share, namely automotive, coal, oil gas, power.","code":"dplyr::filter(data_dictionary, .data[[\"dataset\"]] == \"company_technology_deviation_tms\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"company-net-alignment-metric-for-tms-sectors","dir":"Articles","previous_headings":"Tables > Aggregated PACTA metrics","what":"Company net alignment metric for TMS sectors","title":"Understanding the data","text":"company analyzed banking books, shows net aggregate alignment metric sectors, technology level calculations using target market share, namely automotive, coal, oil gas, power. See vignette(\"company_alignment_metric\") methodological documentation.","code":"dplyr::filter(data_dictionary, .data[[\"dataset\"]] == \"company_alignment_net_tms\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"disaggregated-company-buildoutphaseout-alignment-metric-for-tms-sectors","dir":"Articles","previous_headings":"Tables > Aggregated PACTA metrics","what":"Disaggregated company buildout/phaseout alignment metric for TMS sectors","title":"Understanding the data","text":"company analyzed banking books, shows aggregate alignment metric - disaggregated buildout phaseout components - sectors, technology level calculations using target market share, namely automotive, coal, oil gas, power. See vignette(\"company_alignment_metric\") methodological documentation.","code":"dplyr::filter(data_dictionary, .data[[\"dataset\"]] == \"company_alignment_bo_po_tms\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"company-net-alignment-metric-for-sda-sectors","dir":"Articles","previous_headings":"Tables > Aggregated PACTA metrics","what":"Company net alignment metric for SDA sectors","title":"Understanding the data","text":"company analyzed banking books, shows net aggregate alignment metric sectors, sector level calculations using sectoral decarbonization approach (SDA), namely aviation, cement, steel. See vignette(\"company_alignment_metric\") methodological documentation.","code":"dplyr::filter(data_dictionary, .data[[\"dataset\"]] == \"company_alignment_net_sda\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"company-net-aggregate-alignment-metric-with-financial-exposures","dir":"Articles","previous_headings":"Tables > Aggregated PACTA metrics","what":"Company net aggregate alignment metric with financial exposures","title":"Understanding the data","text":"company analyzed banking books, shows net aggregate alignment metric available sectors. table includes financial exposure analyzed parts banking books, split defined by_group.","code":"dplyr::filter(data_dictionary, .data[[\"dataset\"]] == \"company_exposure_net_aggregate_alignment\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"disaggregated-company-buildoutphaseout-alignment-metric-with-financial-exposures","dir":"Articles","previous_headings":"Tables > Aggregated PACTA metrics","what":"Disaggregated company buildout/phaseout alignment metric with financial exposures","title":"Understanding the data","text":"company analyzed banking books, shows net aggregate alignment metric - disaggregated buildout phaseout components - sectors use technology level TMS calculations, namely automotive, coal, oil gas, power. table includes financial exposure analyzed parts banking books, split defined by_group. Note financial exposure disaggregated, alignment metric .","code":"dplyr::filter(data_dictionary, .data[[\"dataset\"]] == \"company_exposure_bo_po_aggregate_alignment\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"loan-book-net-aggregate-alignment-metric-with-financial-exposures","dir":"Articles","previous_headings":"Tables > Aggregated PACTA metrics","what":"Loan book net aggregate alignment metric with financial exposures","title":"Understanding the data","text":"loan book level group (split defined by_group), shows net aggregate alignment metric available sectors. table includes financial exposure analyzed parts banking books. Company level results aggregated loan book level, using relative financial exposure weights.","code":"dplyr::filter(data_dictionary, .data[[\"dataset\"]] == \"loanbook_exposure_net_aggregate_alignment\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"disaggregated-loan-book-buildoutphaseout-alignment-metric-with-financial-exposures","dir":"Articles","previous_headings":"Tables > Aggregated PACTA metrics","what":"Disaggregated loan book buildout/phaseout alignment metric with financial exposures","title":"Understanding the data","text":"loan book level group (split defined by_group), shows net aggregate alignment metric - disaggregated buildout phaseout components - sectors using technology level TMS calculations, namely automotive, coal, oil gas, power. Company level results aggregated loan book level, using relative financial exposure weights.","code":"dplyr::filter(data_dictionary, .data[[\"dataset\"]] == \"loanbook_exposure_bo_po_aggregate_alignment\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"input-data-for-sankey-plot","dir":"Articles","previous_headings":"Tables > Aggregated PACTA metrics","what":"Input data for Sankey plot","title":"Understanding the data","text":"Data set meant used input plot_sankey().","code":"dplyr::filter(data_dictionary, .data[[\"dataset\"]] == \"data_sankey\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"input-data-for-alignment-by-exposure-scatter-plot","dir":"Articles","previous_headings":"Tables > Aggregated PACTA metrics","what":"Input data for alignment-by-exposure scatter plot","title":"Understanding the data","text":"Data set meant used input plot_scatter_alignment_exposure().","code":"dplyr::filter(data_dictionary, .data[[\"dataset\"]] == \"data_scatter_alignment_exposure\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/data_dictionary.html","id":"input-data-for-buildoutphaseout-scatter-plot","dir":"Articles","previous_headings":"Tables > Aggregated PACTA metrics","what":"Input data for buildout/phaseout scatter plot","title":"Understanding the data","text":"Data set meant used input plot_scatter().","code":"dplyr::filter(data_dictionary, .data[[\"dataset\"]] == \"data_scatter_sector\")"},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/loanbook_aggregated_alignment_metric.html","id":"the-use-case-for-exposure-weighted-aggregated-alignment-metrics","dir":"Articles","previous_headings":"1. Background","what":"1.1 The use case for exposure-weighted aggregated alignment metrics","title":"Calculation of exposure-weighted aggregated alignment metric","text":"company alignment metric described previous chapter first building block needed help make sense alignment patterns large analyses. vignette describes company/sector level metrics can aggregated loan book level facilitate identification systemic patterns. aggregations described can made defined level loan book. precisely, loan book can defined anything sub selection loans one bank’s loan book aggregated loan book entire PACTA sector across banks. Common levels analysis : aggregations bank level, facilitate bank--bank comparison aggregations bank group level, understand patterns common different types financial institutions. level analysis can investigated , using approach.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/loanbook_aggregated_alignment_metric.html","id":"exposure-weighted-aggregated-alignment-metric","dir":"Articles","previous_headings":"","what":"2. Exposure-weighted aggregated alignment metric","title":"Calculation of exposure-weighted aggregated alignment metric","text":"obtain loan book level aggregation company alignment metric, portfolio weight approach applied. exposure weights company loan book derived dividing loan value (drawn amount debt outstanding) counterparty total loan value matched loan book. assumes drawn loan amount goes fully towards activity given sector.1","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/loanbook_aggregated_alignment_metric.html","id":"defining-exposure-weights-at-the-companysector-level","dir":"Articles","previous_headings":"2. Exposure-weighted aggregated alignment metric","what":"2.1 Defining exposure weights at the company/sector level","title":"Calculation of exposure-weighted aggregated alignment metric","text":"exposure-weighted net (buildout/phaseout) alignment given loan book calculated follows: Loan exposure ll (debt outstanding) bank (loan book) nn company cc sector bb, time t=0t = 0: ln,b,c,t=0l_{n,b,c,t = 0}","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/loanbook_aggregated_alignment_metric.html","id":"aggregating-the-companysector-level-metric-to-the-loan-book-by-sector-level","dir":"Articles","previous_headings":"2. Exposure-weighted aggregated alignment metric","what":"2.2 Aggregating the company/sector level metric to the loan book by sector level","title":"Calculation of exposure-weighted aggregated alignment metric","text":"derive exposure-weighted company net alignment metric YY sector: Yn,b,c,t=ln,b,c,t=0∑b,cln,b,c,t=0×yb,c,tY_{n,b,c,t} = \\dfrac{l_{n,b,c,t=0}}{\\sum_{b,c} l_{n,b,c,t=0}} \\times y_{b,c,t} Finally, exposure-weighted net alignment metric YY loan book sector level follows : Yn,b,t=∑cYn,b,c,tY_{n,b,t} = \\sum_{c} Y_{n,b,c,t} applicable, obtain exposure-weighted buildout/phaseout-alignment metric company : Yn,b,c,d,t=ln,b,c,t=0∑b,cln,b,c,t=0×yb,c,d,tY_{n,b,c,d,t} = \\dfrac{l_{n,b,c,t=0}}{\\sum_{b,c} l_{n,b,c,t=0}} \\times y_{b,c,d,t} correspondingly, exposure-weighted buildout/phaseout-alignment metric can calculated loan book level : Yn,b,d,t=∑cYn,b,c,d,tY_{n,b,d,t} = \\sum_{c} Y_{n,b,c,d,t}","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/loanbook_aggregated_alignment_metric.html","id":"interpretation","dir":"Articles","previous_headings":"2. Exposure-weighted aggregated alignment metric > 2.2 Aggregating the company/sector level metric to the loan book by sector level","what":"Interpretation:","title":"Calculation of exposure-weighted aggregated alignment metric","text":"exposure-weighted net aggregate alignment metric Yn,b,tY_{n,b,t} tells us activities companies loan book exposed t=0t = 0 , aggregate, aligned scenario-based values companies t=5t = 5. read high-level summary alignment given loan book meant prompt analysis granular levels, especially entry standard PACTA analysis metrics laid . Note value driven largely exposure relevant companies loan book. Hence, positive value immediately imply unweighted sum counterparties activities aligned given scenario. Instead, exposure-weighted result might driven one particularly well-performing companies, loan book significant exposures. Note also disaggregation buildout phaseout levels exposure-weighted aggregate alignment metric necessary sectors buildout phaseout technologies, understand drivers net value. Yn,b,d,tY_{n,b,d,t} provides disaggregation. unidirectional sectors, disaggregation equal net value emissions intensity based sectors use SDA approach, disaggregation can computed.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/sector_split.html","id":"background","dir":"Articles","previous_headings":"","what":"1. Background","title":"Splitting loans of multi sector companies","text":"Sometimes companies receive loans operate multiple sectors. cases multiple sectors within PACTA scope, needs process deciding scope sectors allocate loan . case, proceeds clearly indicated use one sectors, can achieved simply using sector code provided loan book. loan specifically earmarked particular sector use, choice needs made allocate loan different sectors company operates . note, describe user can decide split loan different sectors company methodological assumptions made.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/sector_split.html","id":"types-of-loans","dir":"Articles","previous_headings":"2. Sector split","what":"2.1 Types of loans","title":"Splitting loans of multi sector companies","text":"section describes types loans relevant PACTA analysis, meaning loans companies can matched least one sector PACTA scope. three types loans regard sector split requirements: Loans companies operate one PACTA sector Loans companies operate multiple PACTA sectors, loan clearly earmarked one sectors Loans companies operate multiple PACTA sectors loan clearly earmarked one sectors 3.1 … one scope sectors energy sector 3.2 … one scope sectors energy sectors methodology outlined focuses third type loan, loan clearly earmarked one sectors. explains basic treatment loans refinement energy companies. user ultimately best positioned decide sector split needed beyond sector classifications provided loan book. practice, sector classifications loan book considered sufficiently granular reflective loan proceeds used, sector split needed process applied. likely process needed, sector classifications available sufficiently granular available loan book. user decides sector split needed, methodology outlined can used.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/sector_split.html","id":"sector-split-methodology","dir":"Articles","previous_headings":"2. Sector split","what":"2.2 Sector split methodology","title":"Splitting loans of multi sector companies","text":"decision made use sector split, general approach split financial exposure evenly across sectors company operates . “equal wights” split implies every sector company operates gets equal share funding loan. approach chosen, requires minimal additional information. Balance sheet information revenue splits sectors may preferable proxy theory, information readily accessible practice. Another approach use production numbers proxy importance sector company overall. sectors, output units compared, measure fundamentally different things. energy sectors (coal mining, upstream oil gas, power generation) exception rule, can converted common unit primary energy. approach opt refines equal weights approach. Overall, still assign sector weight inverse number sectors company operates , e.g. one third sector company operates three PACTA sectors. However, energy sectors, weights lumped together split based primary energy GJ. example, company active across three PACTA sectors, two energy sectors, non-energy sector assigned weight one third energy sectors split weight two thirds among based relative shares primary energy. methodological assumptions primary energy based split described detail next section.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/articles/sector_split.html","id":"primary-energy-based-sector-split-for-energy-companies","dir":"Articles","previous_headings":"2. Sector split > 2.2 Sector split methodology","what":"2.2.1 Primary-energy based sector split for energy companies","title":"Splitting loans of multi sector companies","text":"company activities multiple energy-related sectors, common output unit primary energy needed compare quantities across sectors. chosen common unit primary energy million tons oil equivalent (Mtoe) converted respective sectors follows: coal mining sector converted metric tonnes coal (t coal) upstream oil & gas converted gigajoules (GJ) power generation converted megawatt hours (MWh) methodological distinction fossil fuel-based high carbon power generation fossil-free low carbon power generation made: order compare power generation sector upstream fossil fuel extraction sectors conversion needed account primary energy efficiency fossil fuel-based power generation. large proportion thermal energy burning fuel converted electricity. loss taken account using primary energy efficiency factors respective technologies power sector. step required low carbon technologies even though relatively low primary energy efficiency (e.g. geothermal power 10%) input energy fossil fuel accounting point view contribute exposure company fossil fuel production use. follows calculate primary energy use (EE) company cc per technology aa sector b=Powerb = Power accounting primary energy efficiency factor PP (gg initial electricity generation conversion primary energy use) following formula shall used: Ea,b=power,c=ga,b=power,cPaE_{,b=power,c} = \\dfrac{g_{,b=power,c}}{P_{}} primary energy efficiency factors taken IEA1. next step conversion common units primary energy across three respective sectors mentioned made. conversion factors (FF) taken IEA World Energy Balances 2022 publication IEA Unit Converter. output Mtoe aa company cc sector bb conversion factor FF : Eb,cMtoe=∑∀∈bEa,b,c×FbE_{b,c}^{Mtoe} = \\sum_{\\forall \\b} E_{,b,c} \\times F_{b} relative production weighting per sector bb company cc, calculated : sectorsharea,b,c=Eb,cMtoe∑bEb,cMtoesector\\ share_{,b,c} = \\dfrac{E_{b,c}^{Mtoe}}{\\sum_{b} E_{b,c}^{Mtoe}} company level sector split can now used proxy attribute parts loan different transition relevant sectors company operates , taking account relative importance sector companies production profile. Note split refers energy related -scope PACTA sectors. means company additionally operates another non-energy PACTA sector, split applied share loan attributed energy sectors.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Jacob Kastl. Author, maintainer, contractor. CJ Yetman. Author, contractor. Monika Furdyna. Author, contractor. . Copyright holder, funder.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Kastl J, Yetman C, Furdyna M (2024). pacta.multi.loanbook: Run PACTA Multiple Loan Books Easily. R package version 0.0.0.9000, https://github.com/RMI-PACTA/pacta.multi.loanbook/, https://rmi-pacta.github.io/pacta.multi.loanbook/.","code":"@Manual{,   title = {pacta.multi.loanbook: Run PACTA on Multiple Loan Books Easily},   author = {Jacob Kastl and CJ Yetman and Monika Furdyna},   year = {2024},   note = {R package version 0.0.0.9000,     https://github.com/RMI-PACTA/pacta.multi.loanbook/},   url = {https://rmi-pacta.github.io/pacta.multi.loanbook/}, }"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/index.html","id":"pactamultiloanbook-","dir":"","previous_headings":"","what":"Run PACTA on Multiple Loan Books Easily","title":"Run PACTA on Multiple Loan Books Easily","text":"pacta.multi.loanbook package offers standardized, user-friendly way calculate climate alignment metrics multiple loan books, based PACTA methodology. Designed financial supervisory contexts, simplifies climate alignment analysis across many lending institutions. package streamlines steps prevent repetition allowing flexibility tailor analysis specific project needs, providing valuable insights transition alignment risk.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Run PACTA on Multiple Loan Books Easily","text":"can install development version package GitHub :","code":"pak::pak(\"RMI-PACTA/pacta.multi.loanbook\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/index.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"Run PACTA on Multiple Loan Books Easily","text":"Please consult following resource instructions using package. cookbook provides detailed overview covering setup necessary software environment, obtaining preparing input data, running analysis, interpreting results. Cookbook: comprehensive guide setting , running interpreting analysis.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/analyse.html","id":null,"dir":"Reference","previous_headings":"","what":"Analyse the loan book data sets used in the PACTA for Supervisors analysis — analyse","title":"Analyse the loan book data sets used in the PACTA for Supervisors analysis — analyse","text":"analyse() runs necessary steps analyse matched loan books, producing outputs standard PACTA analysis outputs net aggregated alignment metric, including tables plots. Parameters steps read config.yml file. function called side effects writes prepared diagnosed data sets directory specified dir_analysis config.yml. analyse() analyze() synonyms.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/analyse.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Analyse the loan book data sets used in the PACTA for Supervisors analysis — analyse","text":"","code":"analyse(config)  analyze(config)"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/analyse.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Analyse the loan book data sets used in the PACTA for Supervisors analysis — analyse","text":"config either path config.yml file list parameters","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/analyse.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Analyse the loan book data sets used in the PACTA for Supervisors analysis — analyse","text":"analyse() returns NULL invisibly. function called side effects writes prepared diagnosed data sets directory specified dir_analysis config.yml.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/analyse.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Analyse the loan book data sets used in the PACTA for Supervisors analysis — analyse","text":"","code":"if (FALSE) { # \\dontrun{ config <- \"path/to/config.yml\" analyse(config) } # }"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/data_dictionary.html","id":null,"dir":"Reference","previous_headings":"","what":"Data dictionary — data_dictionary","title":"Data dictionary — data_dictionary","text":"overview output data sets generated package, data types, definitions variables.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/data_dictionary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Data dictionary — data_dictionary","text":"","code":"data_dictionary"},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/data_dictionary.html","id":"data-dictionary","dir":"Reference","previous_headings":"","what":"data_dictionary","title":"Data dictionary — data_dictionary","text":"dataset Name dataset column Name column typeof Data type column definition Description column stands value values allowed column","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/data_dictionary.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Data dictionary — data_dictionary","text":"internal","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/data_dictionary.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Data dictionary — data_dictionary","text":"details see help vignette: vignette(\"data_dictionary\", package = \"pacta.multi.loanbook\")","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/initialise_default_project.html","id":null,"dir":"Reference","previous_headings":"","what":"Initialise a project directory and its config file — initialise_default_project","title":"Initialise a project directory and its config file — initialise_default_project","text":"initialise_default_project() sets default project directory, including project directory, default config.yml configuration file, input sub-directory, loanbooks sub-directory.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/initialise_default_project.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Initialise a project directory and its config file — initialise_default_project","text":"","code":"initialise_default_project(path = \"project\")  initialize_default_project(path = \"project\")"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/initialise_default_project.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Initialise a project directory and its config file — initialise_default_project","text":"path absolute relative path pointing location like project directory created","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/initialise_default_project.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Initialise a project directory and its config file — initialise_default_project","text":"initialise_default_project() returns NULL invisibly. function called side effects creating default project directory specified path.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/initialise_default_project.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Initialise a project directory and its config file — initialise_default_project","text":"","code":"if (FALSE) { # \\dontrun{ project_dir <- \"path/to/project\" initialise_default_project(project_dir) } # }"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/match_loanbooks.html","id":null,"dir":"Reference","previous_headings":"","what":"Match raw input loan books with ABCD for PACTA for Supervisors analysis — match_loanbooks","title":"Match raw input loan books with ABCD for PACTA for Supervisors analysis — match_loanbooks","text":"match_loanbooks() runs necessary steps match raw input loan books asset based company data (ABCD) used PACTA Supervisors analysis. Specifically, prepares matched loan books based name matching direct identifiers, depending configuration. output matched loan books need manually validated processing. Parameters matching step read config.yml file follow options available r2dii.match::match_name. function called side effects writes prepared data sets directory specified dir_matched_loanbooks config.yml.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/match_loanbooks.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Match raw input loan books with ABCD for PACTA for Supervisors analysis — match_loanbooks","text":"","code":"match_loanbooks(config)"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/match_loanbooks.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Match raw input loan books with ABCD for PACTA for Supervisors analysis — match_loanbooks","text":"config either path config.yml file list parameters","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/match_loanbooks.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Match raw input loan books with ABCD for PACTA for Supervisors analysis — match_loanbooks","text":"match_loanbooks() returns NULL invisibly. function called side effects writes prepared data sets directory specified dir_matched_loanbooks config.yml.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/match_loanbooks.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Match raw input loan books with ABCD for PACTA for Supervisors analysis — match_loanbooks","text":"","code":"if (FALSE) { # \\dontrun{ config <- \"path/to/config.yml\" match_loanbooks(config) } # }"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/prepare_abcd.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare input data sets for PACTA for Supervisors analysis — prepare_abcd","title":"Prepare input data sets for PACTA for Supervisors analysis — prepare_abcd","text":"prepare_abcd() runs necessary steps prepare input data sets PACTA Supervisors analysis. Specifically prepares abcd_final data set removing inactive companies desired. allows preparing ratios exposures counterparties split along sectors. Parameters steps read config.yml file. function called side effects writes prepared data sets directory specified dir_prepared_abcd config.yml.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/prepare_abcd.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare input data sets for PACTA for Supervisors analysis — prepare_abcd","text":"","code":"prepare_abcd(config)"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/prepare_abcd.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare input data sets for PACTA for Supervisors analysis — prepare_abcd","text":"config either path config.yml file list parameters","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/prepare_abcd.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare input data sets for PACTA for Supervisors analysis — prepare_abcd","text":"prepare_abcd() returns NULL invisibly. function called side effects writes prepared data sets directory specified dir_prepared_abcd config.yml.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/prepare_abcd.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Prepare input data sets for PACTA for Supervisors analysis — prepare_abcd","text":"","code":"if (FALSE) { # \\dontrun{ config <- \"path/to/config.yml\" prepare_abcd(config) } # }"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/prioritise_and_diagnose.html","id":null,"dir":"Reference","previous_headings":"","what":"Prioritise and diagnose the loan book data sets used in the PACTA for Supervisors analysis — prioritise_and_diagnose","title":"Prioritise and diagnose the loan book data sets used in the PACTA for Supervisors analysis — prioritise_and_diagnose","text":"prioritise_and_diagnose() runs necessary steps prioritise matched loan books diagnose match success rate coverage real economy assets matched loan books. Parameters steps read config.yml file. function called side effects writes prepared diagnosed data sets directory specified dir_prioritized_loanbooks_and_diagnostics config.yml. prioritise_and_diagnose() prioritize_and_diagnose() synonyms.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/prioritise_and_diagnose.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prioritise and diagnose the loan book data sets used in the PACTA for Supervisors analysis — prioritise_and_diagnose","text":"","code":"prioritise_and_diagnose(config)  prioritize_and_diagnose(config)"},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/prioritise_and_diagnose.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prioritise and diagnose the loan book data sets used in the PACTA for Supervisors analysis — prioritise_and_diagnose","text":"config either path config.yml file list parameters","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/prioritise_and_diagnose.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prioritise and diagnose the loan book data sets used in the PACTA for Supervisors analysis — prioritise_and_diagnose","text":"prioritise_and_diagnose() returns NULL invisibly. function called side effects writes prepared diagnosed data sets directory specified dir_prioritized_loanbooks_and_diagnostics config.yml.","code":""},{"path":"https://rmi-pacta.github.io/pacta.multi.loanbook/reference/prioritise_and_diagnose.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Prioritise and diagnose the loan book data sets used in the PACTA for Supervisors analysis — prioritise_and_diagnose","text":"","code":"if (FALSE) { # \\dontrun{ config <- \"path/to/config.yml\" prioritise_and_diagnose(config) } # }"}]
